var t,e,s={};!function(){var t={};function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(s,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"gray",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"16px Monospace",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;e(this,t),this.x=l,this.y=r,this.ctx=s,this.canvas=i,this.color=o,this.font=n,this.setPos=this.setPos.bind(this)}return function(t,e,s){e&&i(t.prototype,e),s&&i(t,s)}(t,[{key:"track",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.canvas;return t?e.addEventListener("mousemove",this.setPos):e.removeEventListener("mousemove",this.setPos),this}},{key:"setPos",value:function(t){var e=this.canvas.getBoundingClientRect();return this.x=Math.floor(t.clientX-e.left),this.y=Math.floor(t.clientY-e.top),this}},{key:"draw",value:function(){var t=this.x,e=this.y,s=this.canvas,i=this.ctx,o=this.font,n=this.color,l="X: ".concat(t,", Y: ").concat(e);i.save(),i.fillStyle=n,i.font=o;var r=t<s.width/2?20:-i.measureText(l).width-20,h=e<s.height/2?25:-18;return i.fillText(l,this.x+r,this.y+h),i.restore(),this}}]),t}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,s){return e&&l(t.prototype,e),s&&l(t,s),t}var h=function(){function t(e,s,i,o,l,r){n(this,t),this.color=e,this.lineWidth=s,this.startX=i,this.startY=o,this.endX=l,this.endY=r}return r(t,[{key:"draw",value:function(t){var e=this.color,s=this.lineWidth,i=this.startX,o=this.startY,n=this.endX,l=this.endY;t.save(),t.beginPath(),t.strokeStyle=e,t.lineWidth=s,t.moveTo(i,o),t.lineTo(n,l),t.stroke(),t.restore()}}]),t}(),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"gray",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"DarkGray",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.5,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"16px Monospace";n(this,t),this.color=e,this.lineWidth=s,this.step=i,this.boldNth=o,this.boldColor=l,this.boldWidth=r,this.font=h,this.lines=null}return r(t,[{key:"createLines",value:function(t){for(var e=this.color,s=this.lineWidth,i=this.step,o=this.boldNth,n=this.boldColor,l=this.boldWidth,r=[],a=o*i,c=0;c<t.width;c+=i){var d=c%a==0;r.push(d?new h(n,l,c,0,c,t.height):new h(e,s,c,0,c,t.height))}for(var u=0;u<t.height;u+=i){var m=u%a==0;r.push(m?new h(n,l,0,u,t.width,u):new h(e,s,0,u,t.width,u))}this.lines=r}},{key:"drawText",value:function(t,e){var s=this.step,i=this.boldNth,o=this.boldColor,n=this.font;t.save(),t.font=n,t.fillStyle=o,t.fillText("0",1,15);for(var l=s*i;l<e.width;l+=s*i)t.fillText(l,l,15);for(var r=s*i;r<e.height;r+=s*i)t.fillText(r,0,r+15);t.restore()}},{key:"draw",value:function(t,e){this.lines||this.createLines(e),this.lines.forEach((function(e){return e.draw(t)})),this.drawText(t,e)}}]),t}();t.Mouse=o,t.Grid=a,s=t}();class i{}class o{constructor(t,e,s){this.obj=t,this.left=null,this.right=null,this.parent=s,this.dimension=e}}class t{constructor(t,e,s,i){this._kdTreeObjectType=t,this.points=e,this.metric=s,this.dimensions=i,Array.isArray(e)?this.root=this.buildTree(e,0,null):this.loadTree(e)}buildTree(t,e,s){var i,n,l=e%this.dimensions.length;return 0===t.length?null:1===t.length?new o(t[0],l,s):(t.sort(((t,e)=>t[this.dimensions[l]]-e[this.dimensions[l]])),i=Math.floor(t.length/2),(n=new o(t[i],l,s)).left=this.buildTree(t.slice(0,i),e+1,n),n.right=this.buildTree(t.slice(i+1),e+1,n),n)}loadTree(t){this.root=t,function t(e){e.left&&(e.left.parent=e,t(e.left)),e.right&&(e.right.parent=e,t(e.right))}(this.root)}toJSON(t=this.root){if(null===t)return null;var e=new o(t.obj,t.dimension,null);return t.left&&(e.left=this.toJSON(t.left)),t.right&&(e.right=this.toJSON(t.right)),e}innerSearch(t,e,s){if(null===e)return s;var i=this.dimensions[e.dimension];return t[i]<e.obj[i]?this.innerSearch(t,e.left,e):this.innerSearch(t,e.right,e)}insert(t){var e,s,i=this.innerSearch(t,this.root,null);null!==i?(e=new o(t,(i.dimension+1)%this.dimensions.length,i),t[s=this.dimensions[i.dimension]]<i.obj[s]?i.left=e:i.right=e):this.root=new o(t,0,null)}nodeSearch(t,e){if(null===e)return null;if(e.obj===t)return e;this.metric(e.obj,t);var s=this.dimensions[e.dimension];return t[s]<=e.obj[s]?this.nodeSearch(t,e.left):this.nodeSearch(t,e.right)}findMin(t,e){var s,i,o,n,l;return null===t?null:(s=this.dimensions[e],t.dimension===e?null!==t.left?this.findMin(t.left,e):t:(i=t.obj[s],o=this.findMin(t.left,e),n=this.findMin(t.right,e),l=t,null!==o&&o.obj[s]<i&&(l=o),null!==n&&n.obj[s]<l.obj[s]&&(l=n),l))}findMax(t,e){var s,i,o,n=null,l=null;return s=this.dimensions[e],t.dimension===e?null!==t.left?this.findMax(t.left,e):t:(i=t.obj[s],t.left&&(n=this.findMax(t.left,e)),t.right&&(l=this.findMax(t.right,e)),o=t,null!==n&&n.obj[s]>i&&(o=n),null!==l&&l.obj[s]>o.obj[s]&&(o=l),o)}removeNode(t){var e,s,i;if(null!==t)return null===t.left&&null===t.right?null===t.parent?void(this.root=null):(i=this.dimensions[t.parent.dimension],void(t.obj[i]<=t.parent.obj[i]?t.parent.left=null:t.parent.right=null)):void(null!==t.left?(s=(e=this.findMax(t.left,t.dimension)).obj,this.removeNode(e),t.obj=s):null!==t.right&&(s=(e=this.findMax(t.right,t.dimension)).obj,this.removeNode(e),t.left=t.right,t.right=null,t.obj=s))}remove(t){var e;return null===(e=this.nodeSearch(t,this.root))?(console.warn("kdTree:remove:kack'n'shit"),!1):(this.removeNode(e),!0)}nearestSearch(t,e){let s,i=this.dimensions[e.dimension],o=this.metric(t.point,e.obj),n=new this._kdTreeObjectType;var l;let r,h;const a=(e,s)=>{t.bestNodes.push([e,s]),t.bestNodes.size()>t.maxNodes&&t.bestNodes.pop()};for(h=0;h<this.dimensions.length;h+=1)h===e.dimension?n[this.dimensions[h]]=t.point[this.dimensions[h]]:n[this.dimensions[h]]=e.obj[this.dimensions[h]];l=this.metric(n,e.obj),null!==e.right||null!==e.left?(s=null===e.right?e.left:null===e.left?e.right:t.point[i]<e.obj[i]?e.left:e.right,this.nearestSearch(t,s),(t.bestNodes.size()<t.maxNodes||o<t.bestNodes.peek()[1])&&a(e,o),(t.bestNodes.size()<t.maxNodes||Math.abs(l)<t.bestNodes.peek()[1])&&(r=s===e.left?e.right:e.left,null!==r&&this.nearestSearch(t,r))):(t.bestNodes.size()<t.maxNodes||o<t.bestNodes.peek()[1])&&a(e,o)}nearest(t,s,i){let o,n,l=[];if(n=new e((t=>-t[1])),i)for(console.log("kdTree:nearest, maxnodes",s),o=0;o<s;o+=1)n.push([null,i]);for(this.root&&this.nearestSearch({point:t,bestNodes:n,maxNodes:s},this.root),l=[],o=0;o<Math.min(s,n.content.length);o+=1)n.content[o][0]&&l.push([n.content[o][0].obj,n.content[o][1]]);return l}balanceFactor(){const t=e=>null===e?0:Math.max(t(e.left),t(e.right))+1,e=t=>null===t?0:e(t.left)+e(t.right)+1;return t(this.root)/(Math.log(e(this.root))/Math.log(2))}}class e{constructor(t){this.content=[],this.scoreFunction=t}push(t){this.content.push(t),this.bubbleUp(this.content.length-1)}pop(){var t=this.content[0],e=this.content.pop();return e&&this.content.length>0&&(this.content[0]=e,this.sinkDown(0)),t}peek(){return this.content[0]}remove(t){for(var e=this.content.length,s=0;s<e;s++)if(this.content[s]==t){var i=this.content.pop();return void(i&&s!=e-1&&(this.content[s]=i,this.scoreFunction(i)<this.scoreFunction(t)?this.bubbleUp(s):this.sinkDown(s)))}throw new Error("kdNode not found.")}size(){return this.content.length}bubbleUp(t){for(var e=this.content[t];t>0;){var s=Math.floor((t+1)/2)-1,i=this.content[s];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[s]=e,this.content[t]=i,t=s}}sinkDown(t){for(var e=this.content.length,s=this.content[t],i=this.scoreFunction(s);;){var o=2*(t+1),n=o-1,l=null;if(n<e){var r=this.content[n],h=this.scoreFunction(r);h<i&&(l=n)}if(o<e){var a=this.content[o];this.scoreFunction(a)<(null==l?i:h)&&(l=o)}if(null==l)break;this.content[t]=this.content[l],this.content[l]=s,t=l}}}class n{inputLast="";inputQueue=[];constructor(){this.deviceCheck=document.getElementById("deviceCheck"),this.deviceConnect=document.getElementById("deviceConnect"),this.deviceDisconnect=document.getElementById("deviceDisconnect"),this.deviceInput=document.getElementById("deviceInput"),this.deviceInputForm=document.getElementById("deviceInputForm"),this.deviceInfo=document.getElementById("deviceInfo"),this.deviceLog=document.getElementById("deviceLog"),this.deviceSerial=document.getElementById("deviceSerial"),this.port=null,this.textDecoder=new TextDecoderStream,this.deviceCheck&&this.deviceConnect&&this.deviceDisconnect&&this.deviceInput&&this.deviceInputForm&&(this.deviceCheck.onclick=this.serialCheck.bind(this),this.deviceConnect.onclick=this.serialConnect.bind(this),this.deviceDisconnect.onclick=this.serialDisconnect.bind(this),this.deviceInputForm.onsubmit=this.serialInputForm.bind(this)),this.serialCheck()}async serialConnect(){navigator.serial.requestPort().then((t=>{console.log("serialConnect",t),this.serialPortOpen(t)})).catch((t=>{this.serialError(t)}))}async serialConnectDevice(t,e){for(let s of this.ports){console.log("serialConnectDevice: serial available, ports: ",s.getInfo());const{usbProductId:i,usbVendorId:o}=s.getInfo();if(i==e&&o==t){this.serialPortOpen(s);break}}}async serialDisconnect(){this.port&&this.port.close().then((()=>{this.port=null,console.log("port closed")})).catch((t=>{console.warn(t)}))}async serialWriteWait(t,e=1e4){return this.inputQueue=[],new Promise((async(s,i)=>{if(this.port)try{this.serialWrite(t);let o=!1;const n=10;let l=e;for(;!(o||(o=await this.serialAvail(n),l-=n,l<=0)););if(this.inputQueue.length>0){s(this.inputQueue.pop())}else i("timeout")}catch(t){i("busy")}else i("disconnected")}))}serialInputForm(t){this.deviceInput&&(t.preventDefault(),this.serialInputChange(t))}async serialInputChange(t){if(this.deviceInput)if(this.port){let t=this.deviceInput.value;t.length>0&&this.serialWrite(t)}else console.warn("serialInputChange - no port open")}async serialCheck(){let t=!1;return"serial"in navigator?(this.updatePorts(),navigator.serial.addEventListener("connect",(t=>{console.log("serialCheck:connect",t),this.updatePorts()})),navigator.serial.addEventListener("disconnect",(t=>{console.log("serialCheck:disconnect",t)})),t=!0):this.serialError("This browser does not support the serial port. Connection to device impossible! Use Chrome!"),t}updatePorts(){navigator.serial.getPorts().then((t=>{console.log("updatePorts:",t),this.ports=t;let e="";for(let s of t){console.log("serial available, ports: ",s.getInfo());const{usbProductId:t,usbVendorId:i}=s.getInfo();console.log(`updatePorts port pid:${t} vid:${i}`),e+=`<div class="w3-container"><i class="fa-solid fa-microchip"></i> pid:${t} vid:${i} <button class="w3-btn w3-round w3-light-grey w3-tiny" id="${i}-${t}"><i class="fa fa-plug"></i> connect </button></div>`}if(this.deviceInfo){this.deviceInfo.innerHTML=e;const t=this.deviceInfo.getElementsByTagName("button");for(const e of t)e.onclick=()=>{const t=e.id.split("-");console.log(t),this.serialConnectDevice(parseInt(t[0]),parseInt(t[1]))}}!this.deviceConnect||null!=this.ports&&0!=this.ports.length||(this.deviceConnect.className=this.deviceConnect.className.replace("w3-hide","w3-show"))}))}serialPortOpen(t){t.onconnect=()=>{console.log("CONNECTED")},t.ondisconnect=()=>{console.log("DISCONNECTED"),this.onSerialDisconnected&&this.onSerialDisconnected()},t.open({baudRate:25e4}).then((e=>{this.port=t,this.deviceLog&&(this.deviceLog.innerHTML="connected<br>"),console.log("port opened ? ",this.port),this.onSerialConnected&&this.onSerialConnected(),setTimeout(this.serialRead.bind(this),0)})).catch((t=>{this.serialError(t.toString())}))}serialError(t){console.warn("serialError",t),this.deviceLog&&(this.deviceLog.innerHTML=`<span class="w3-red">${t}</span><br>`)}async serialRead(){if(this.port){this.port.readable.pipeTo(this.textDecoder.writable);this.reader=this.textDecoder.readable.getReader(),setTimeout(this.serialReadon.bind(this),1)}}async serialReadon(){try{const{value:t,done:e}=await this.reader.read();if(e)this.reader.releaseLock(),console.log("serialRead - done");else{let e=!1;if(-1!=t.indexOf("\n")){const s=t.split("\n");s.length<=1&&console.error("Assertion failed ",s);for(let t=0;t<s.length-1;t++)this.inputLast+=s[t],this.inputQueue.push(this.inputLast),this.serialLog(this.inputLast,!0),this.inputLast="",e=!0;this.inputLast=s[s.length-1]}else this.inputLast+=t;e&&setTimeout(this.serialCallback.bind(this),5),setTimeout(this.serialReadon.bind(this),1)}}catch(t){console.warn(t),this.serialError(t.toString())}}serialCallback(){}async serialWrite(t){this.serialLog(t,!1);let e=new TextEncoder;const s=this.port.writable.getWriter();await s.write(e.encode(`${t}\n`)),s.releaseLock()}serialAvail(t=10){return new Promise((e=>{this.inputQueue.length>0?e(!0):setTimeout((()=>{e(!1)}),t)}))}serialLog(t,e){if(this.deviceSerial){for(;this.deviceSerial.childElementCount>20;){let t=this.deviceSerial.firstChild;t&&this.deviceSerial.removeChild(t)}this.deviceSerial.innerHTML+=e?`<div><i class="fa-solid fa-arrow-right-to-bracket"></i> ${t}</div>`:`<div><i class="fa-solid fa-arrow-up-right-from-square"></i> ${t}</div>`,globalThis.resize()}}}class l{minx=99999;miny=99999;maxx=-99999;maxy=-99999;constructor(){}updateFromPad(t){this.update(t.posX,t.posY)}update(t,e){t<this.minx&&(this.minx=t),e<this.miny&&(this.miny=e),t>this.maxx&&(this.maxx=t),e>this.maxy&&(this.maxy=e)}center(t=1){return[(this.minx+(this.maxx-this.minx)/2)*t,(this.miny+(this.maxy-this.miny)/2)*t]}zero(t=1){return[this.minx*t,this.miny*t]}size(t=1){return[(this.maxx-this.minx)*t,(this.maxy-this.miny)*t]}diagonal(t=1){const e=this.size(t);return Math.sqrt(e[0]*e[0]+e[1]*e[1])}inside(t){return t.posX>=this.minx&&t.posX<=this.maxx&&t.posY>=this.miny&&t.posY<=this.maxy}}class r{constructor(t,e,s){this.form=t,this.width=e,this.height=s}}class h{constructor(t,e,s){this.posX=e,this.posY=s,this.style=t}asTuple(){return[this.posX,this.posY]}}class a extends i{fileName="";mouseFlag=!1;mouseStartX=0;mouseStartY=0;mouseOffX=0;mouseOffY=0;zoom=5;nearest=[];constructor(){super(),this.mapStyles=new Map,this.mapPads=new Map,this.bbPcb=new l,this.bbZero=new l,this.bbSelection=new l}setCanvas(t,e){this.ctx=t,this.canvas=e}setZero(){let t=!1;this.bbZero=this.bbSelection,t=!0,console.log(`Pcb:setZero: ${this.bbZero.zero()}`)}getZero(){return this.bbZero.zero()}getSelected(){let t=[];for(let e of this.nearest)e.length>0&&t.push(e[0]);return t}getSelectedZero(){return this.bbSelection.zero()}getPadCount(){let t=0;for(let e of this.mapPads)t+=e[1].size;return t}zoomToFit(t){let e=this.bbPcb.size(),s=t[0]/e[0],i=t[1]/e[1];this.zoom=.9*(s>i?i:s),console.log(`Pcb:zoomToFit zoom ${this.zoom}`,e),this.center()}center(){this.canvas&&(this.mouseOffX=-this.bbPcb.center()[0]*this.zoom+this.canvas.width/2,this.mouseOffY=-this.bbPcb.center()[1]*this.zoom+this.canvas.height/2)}addPadStyle(t,e,s,i){this.mapStyles.set(t,new r(e,s,i))}addPad(t,e,s){this.mapPads.has(t)||this.mapPads.set(t,new Set);let i=this.mapPads.get(t);if(i){const o=new h(t,e,s);i.add(o),this.bbPcb.update(e,s)}}retree(){try{let e=[];for(let t of this.mapPads.values())for(let s of t)e.push(s);this.tree=new t(a,e,a.distance,["posX","posY"]),console.log("tree bf:",this.tree.balanceFactor())}catch(t){console.error(t)}}mouseDown(t){const e=this.ctx.getTransform();if(0==t.button){const s=(t.clientX*e.a-this.mouseOffX)/this.zoom,i=(this.canvas.height-(t.clientY-this.canvas.offsetTop)-this.mouseOffY)/this.zoom;this.mouseStartX=s,this.mouseStartY=i,this.mouseSelectX=s,this.mouseSelectY=i,this.mouseSelect=!0}0!=t.button&&(this.mouseStartX=t.clientX*e.a-this.mouseOffX,this.mouseStartY=t.clientY*e.d-this.mouseOffY,this.mouseFlag=!0)}mouseUp(t){const e=this.ctx.getTransform();if(0!=t.button&&(this.mouseFlag=!1),0==t.button){this.mouseSelect=!1;const s=(t.clientX*e.a-this.mouseOffX)/this.zoom,i=(this.canvas.height-(t.clientY-this.canvas.offsetTop)-this.mouseOffY)/this.zoom;this.mouseSelectX=s,this.mouseSelectY=i,this.bbSelection=new l,this.bbSelection.update(this.mouseStartX,this.mouseStartY),this.bbSelection.update(this.mouseSelectX,this.mouseSelectY);let o=new h("",this.bbSelection.center()[0],this.bbSelection.center()[1]);if(this.tree){let e=[],s=this.bbSelection.diagonal();if(s<.1)e=this.tree.nearest(o,1,s),this.nearest=e;else{s=s/2*(s/2),e=this.tree.nearest(o,this.getPadCount(),s),t.shiftKey||(this.nearest=[]);for(const t of e)this.bbSelection.inside(t[0])&&this.nearest.push(t)}let i=new l;for(const t of this.nearest)i.updateFromPad(t[0]);this.bbSelection=i,console.log(`Pcb:mouseUp selection found #${e.length}`)}}}mouseMove(t){const e=this.ctx.getTransform();if(this.mouseFlag&&(this.mouseOffX=t.clientX*e.a-this.mouseStartX,this.mouseOffY=t.clientY*e.d-this.mouseStartY),this.mouseSelect){const s=(t.clientX*e.a-this.mouseOffX)/this.zoom,i=(this.canvas.height-(t.clientY-this.canvas.offsetTop)-this.mouseOffY)/this.zoom;this.mouseSelectX=s,this.mouseSelectY=i}}mouseWheel(t){this.ctx.getTransform();t.deltaY>0?this.zoom*=1.1:this.zoom*=.9}mouseOut(t){}static distance(t,e){return(t.posX-e.posX)*(t.posX-e.posX)+(t.posY-e.posY)*(t.posY-e.posY)}draw(){this.ctx.fillStyle="antiquewhite",this.ctx.strokeStyle="red";let t=this.bbPcb.center(this.zoom);this.ctx.beginPath(),this.ctx.moveTo(t[0]-10+this.mouseOffX,t[1]+this.mouseOffY),this.ctx.lineTo(t[0]+10+this.mouseOffX,t[1]+this.mouseOffY),this.ctx.moveTo(t[0]+this.mouseOffX,t[1]-10+this.mouseOffY),this.ctx.lineTo(t[0]+this.mouseOffX,t[1]+10+this.mouseOffY),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.rect(this.bbPcb.zero(this.zoom)[0]+this.mouseOffX,this.bbPcb.zero(this.zoom)[1]+this.mouseOffY,this.bbPcb.size(this.zoom)[0],this.bbPcb.size(this.zoom)[1]),this.ctx.stroke();for(let t of this.mapPads.keys()){const e=this.mapStyles.get(t),s=this.mapPads.get(t);if(e&&s){const t=e.width*this.zoom,i=e.height*this.zoom;for(let o of s.values())if("R"==e.form||"O"==e.form||"RoundRect"==e.form)this.ctx.beginPath(),this.ctx.fillRect(o.posX*this.zoom-t/2+this.mouseOffX,o.posY*this.zoom-i/2+this.mouseOffY,t,i),this.ctx.fill();else{if("C"!=e.form){console.log(`draw quatsch ${e.form}`);break}this.ctx.beginPath(),this.ctx.ellipse(o.posX*this.zoom+this.mouseOffX,o.posY*this.zoom+this.mouseOffY,t/2,t/2,0,0,2*Math.PI),this.ctx.fill()}}}this.ctx.strokeStyle="purple",this.ctx.beginPath();let e=.5;for(const t of this.nearest)this.ctx.moveTo((t[0].posX-e)*this.zoom+this.mouseOffX,t[0].posY*this.zoom+this.mouseOffY),this.ctx.lineTo((t[0].posX+e)*this.zoom+this.mouseOffX,t[0].posY*this.zoom+this.mouseOffY),this.ctx.moveTo(t[0].posX*this.zoom+this.mouseOffX,(t[0].posY+e)*this.zoom+this.mouseOffY),this.ctx.lineTo(t[0].posX*this.zoom+this.mouseOffX,(t[0].posY-e)*this.zoom+this.mouseOffY);this.ctx.stroke();let s=[0,0];this.bbSelection&&(e=2*this.zoom,s=this.bbSelection.zero(this.zoom),this.ctx.beginPath(),this.ctx.moveTo(s[0]-e+this.mouseOffX,s[1]+this.mouseOffY),this.ctx.lineTo(s[0]+e+this.mouseOffX,s[1]+this.mouseOffY),this.ctx.moveTo(s[0]+this.mouseOffX,s[1]-e+this.mouseOffY),this.ctx.lineTo(s[0]+this.mouseOffX,s[1]+e+this.mouseOffY),this.ctx.stroke()),this.ctx.strokeStyle="black",s=this.bbZero.center(this.zoom),this.ctx.beginPath(),this.ctx.moveTo(-e+this.mouseOffX,this.mouseOffY),this.ctx.lineTo(+e+this.mouseOffX,this.mouseOffY),this.ctx.moveTo(this.mouseOffX,-e+this.mouseOffY),this.ctx.lineTo(this.mouseOffX,+e+this.mouseOffY),this.ctx.stroke(),this.ctx.strokeStyle="black",s=this.bbZero.zero(this.zoom),this.ctx.beginPath(),this.ctx.moveTo(s[0]-e+this.mouseOffX,s[1]+this.mouseOffY),this.ctx.lineTo(s[0]+e+this.mouseOffX,s[1]+this.mouseOffY),this.ctx.moveTo(s[0]+this.mouseOffX,s[1]-e+this.mouseOffY),this.ctx.lineTo(s[0]+this.mouseOffX,s[1]+e+this.mouseOffY),this.ctx.stroke(),this.mouseSelect&&(this.ctx.strokeStyle="purple",this.ctx.beginPath(),this.ctx.moveTo(this.mouseStartX*this.zoom+this.mouseOffX,this.mouseStartY*this.zoom+this.mouseOffY),this.ctx.lineTo(this.mouseSelectX*this.zoom+this.mouseOffX,this.mouseStartY*this.zoom+this.mouseOffY),this.ctx.lineTo(this.mouseSelectX*this.zoom+this.mouseOffX,this.mouseSelectY*this.zoom+this.mouseOffY),this.ctx.lineTo(this.mouseStartX*this.zoom+this.mouseOffX,this.mouseSelectY*this.zoom+this.mouseOffY),this.ctx.lineTo(this.mouseStartX*this.zoom+this.mouseOffX,this.mouseStartY*this.zoom+this.mouseOffY),this.ctx.stroke())}}let c;var d;(d=c||(c={}))[d.Undefined=1]="Undefined",d[d.Ready=2]="Ready",d[d.Busy=3]="Busy",d[d.NC=4]="NC";class u{constructor(t){this.pcb=t}}class m extends u{reNumFormat=/^%FSLAX([0-9])([0-9])Y([0-9])([0-9])[*]%/;reMatchPad=/^(%AD)(D[0-9]+)([A-Za-z]+)[,]([-0-9.]+)[X]?([-0-9.]+)?[X]?([-0-9.]+)?/;reMatchPadCoordInit=/^([DG][0-9]+)[*]/;reMatchPadCoord=/^X([-]?)([0-9]+)Y([-]?)([0-9]+)D([0-9]+)[*]/;_cancel=!1;floatFracts=1;floatDezis=1;lastPad="";constructor(t){super(t)}parseFile(t){return new Promise((e=>{t.arrayBuffer().then((t=>{var s,i,o,n;s="UTF-8",i=t=>{this.processGerberText(t).finally((()=>{e()}))},o=new Blob([t],{type:"text/plain"}),(n=new FileReader).onload=t=>{t.target&&i(t.target.result)},n.readAsText(o,s)}))}))}cancel(){this._cancel=!0}async processGerberText(t){const e=(t=t.replace(/\r/g,"")).split("\n");let s=1;for(let t of e){if(s++,this._cancel){this._cancel=!1;break}await this.processGerberLine(t),this.processCB&&this.processCB(100*s/e.length)}this.pcb.retree()}async processGerberLine(t){return new Promise((e=>{const s=this.reNumFormat.exec(t);s&&(this.floatDezis=parseInt(s[1]),this.floatFracts=parseInt(s[2]),console.log(`gerber: float digits = ${this.floatDezis} ${this.floatFracts}`));const i=this.reMatchPad.exec(t);i&&(this.padsField&&(this.padsField.innerHTML+=`${i[2]} ${i[3]} ${i[4]} ${i[5]}<br>`),"RoundRect"==i[3]?this.pcb.addPadStyle(i[2],i[3],Math.abs(parseFloat(i[5])),Math.abs(parseFloat(i[6]))):this.pcb.addPadStyle(i[2],i[3],parseFloat(i[4]),parseFloat(i[5])));const o=this.reMatchPadCoordInit.exec(t);o&&(this.lastPad=o[1]);const n=this.reMatchPadCoord.exec(t);if(n)if(this.lastPad.startsWith("D")){let t=n[2],e=n[4];const s=this.floatDezis+this.floatFracts;for(;t.length<s;)t=`0${t}`;for(;e.length<s;)e=`0${e}`;let i=0,o=0;t=`${t.substring(0,this.floatDezis)}.${t.substring(this.floatDezis)}`,e=`${e.substring(0,this.floatDezis)}.${e.substring(this.floatDezis)}`,i=parseFloat(t),o=parseFloat(e),"-"==n[1]&&(i*=-1),"-"==n[3]&&(o*=-1),this.coordsField&&(this.coordsField.innerHTML+=`${this.lastPad}:  x:${i} y:${o} <br>`),this.pcb.addPad(this.lastPad,i,o)}else console.log(`ignoring ${this.lastPad}`);this.pcb.center(),setTimeout(e,0)}))}}const f=document.getElementsByTagName("body")[0],g=document.getElementById("messageElem"),b=document.getElementById("uploadButton"),p=document.getElementById("padsField"),v=document.getElementById("Coords"),w=document.getElementById("coordsField"),y=document.getElementById("dropZone"),x=document.getElementById("canvas"),S=document.getElementById("debug"),T=document.getElementById("progress"),P=document.getElementById("progressbar"),B=document.getElementById("contextMenu"),z=document.getElementById("progressCancel"),X=document.getElementById("menuSetZero"),k=document.getElementById("menuMoveTo"),Y=document.getElementById("menuMoveAll"),E=document.getElementById("menuBlob"),O=document.getElementById("main"),C=document.getElementById("openSidebar"),I=document.getElementsByTagName("header")[0],M=document.getElementById("footer");let D,W,N,F,L=null,$=new class extends n{zero=[0,0];constructor(){super(),this.marlinDiv=document.getElementById("Marlin"),this.initHtml()}setZero(t){this.zero=t,this.onBtnAbs().then((()=>{this.serialWriteWait("G92 X0 Y0 Z0").then((()=>{this.onBtnPos()}))}))}moveTo(t,e,s,i){let o="G0 ";null!=t&&(o+=`X${t-this.zero[0]} `),null!=e&&(o+=`Y${e-this.zero[1]} `),null!=s&&(o+=`Z${s} `),this.serialWriteWait(o).then((()=>{this.onBtnPos()}))}async moveToAll(e,s){console.log("Marlin:moveToAll",e.length),console.log(e);const i=new t(a,e,a.distance,["posX","posY"]);let o=new h("",s[0],s[1]),n=i.nearest(o,1),l=n[0][0],r=[];this.onBtnAbs().then((async()=>{try{for(let t=0;t<e.length;t++){n=i.nearest(l,1),l=n[0][0],r.push(l);let t="G0 ";t+=`X${l.posX-this.zero[0]} `,t+=`Y${l.posY-this.zero[1]} `;try{await this.serialWriteWait(t)}catch(t){}i.remove(l)}for(let t of r)console.log("Marlin:moveToAll",t)}catch(t){console.warn("Marlin:moveToAll: failed",t)}}))}blob(){this.onBtnAbs().then((()=>{this.serialWriteWait("M83").then((()=>{this.serialWriteWait("G0 Z3").then((()=>{this.serialWriteWait("G0 E10").then((()=>{this.serialWriteWait("G0 Z0").then((()=>{this.serialWriteWait("G0 Z3")}))}))}))}))}))}onSerialConnected(){console.log("Marlin: onSerialConnected"),this.setStatus(c.Ready),this.marlinDivStatus&&this.marlinDivCommands&&(this.setStatus(c.Ready),this.marlinDivCommands.className=this.marlinDivCommands.className.replace("w3-hide","w3-show")),setTimeout((()=>{this.onBtnCold().then((()=>{this.onBtnRel().then((()=>{this.onBtnPos().then((()=>{console.log("Marlin: onSerialConnected init sequence finished")}))}))}))}),3e3)}onSerialDisconnected(){console.log("Marlin: onSerialDisconnected"),this.marlinDivStatus&&this.marlinDivCommands&&(this.setStatus(c.NC),this.marlinDivCommands.className=this.marlinDivCommands.className.replace("w3-show","w3-hide"))}async serialWriteWait(t,e=1e4){return new Promise((async(s,i)=>{this.setStatus(c.Busy),super.serialWriteWait(t,e).then((t=>{s(t)})).catch((t=>{i(t)})).finally((()=>{this.setStatus(c.Ready)}))}))}setStatus(t){let e=`unknown status ${t}`;switch(t){case c.Ready:e='Status: <i class="fa-solid fa-plug"></i> ready';break;case c.Busy:e='Status: <i class="fa-solid fa-plug-circle-bolt"></i> busy';break;case c.NC:e='Status: <i class="fa-solid fa-plug-circle-xmark"></i> not connected'}this.marlinDivStatus&&(this.marlinDivStatus.innerHTML=e)}onBtnHome(){return new Promise((t=>{this.serialWriteWait("G28").then((t=>{console.log(t)})).catch((t=>{console.warn(t)})).finally((()=>{t()}))}))}onBtnPos(){return new Promise((t=>{this.serialWriteWait("M114").then((t=>{console.log("onBtnPos",t),this.marlinDivPosition&&(this.marlinDivPosition.innerText=t)})).catch((t=>{console.warn(t)})).finally((()=>{t()}))}))}onBtnAbs(){return new Promise((t=>{this.serialWriteWait("G90").then((t=>{console.log(t)})).catch((t=>{console.warn(t)})).finally((()=>{t()}))}))}onBtnRel(){return new Promise((t=>{this.serialWriteWait("G91").then((t=>{console.log(t)})).catch((t=>{console.warn(t)})).finally((()=>{t()}))}))}onBtnCold(){return new Promise((t=>{this.serialWriteWait("M302 S0").then((t=>{console.log(t)})).catch((t=>{console.warn(t)})).finally((()=>{t()}))}))}onBtnXP(){this.serialWriteWait("G0 X10").then((t=>{this.onBtnPos()}))}onBtnXM(){this.serialWriteWait("G0 X-10").then((t=>{this.onBtnPos()}))}onBtnYP(){this.serialWriteWait("G0 Y10").then((t=>{this.onBtnPos()}))}onBtnYM(){this.serialWriteWait("G0 Y-10").then((t=>{this.onBtnPos()}))}onBtnZP(){this.serialWriteWait("G0 Z10").then((t=>{this.onBtnPos()}))}onBtnZM(){this.serialWriteWait("G0 Z-10").then((t=>{this.onBtnPos()}))}onBtnEP(){this.serialWriteWait("G0 E10").then((t=>{this.onBtnPos()}))}onBtnEM(){this.serialWriteWait("G0 E-10").then((t=>{this.onBtnPos()}))}initHtml(){if(this.marlinDiv){this.marlinDiv.innerHTML='\n            <div class="w3-border w3-border-dark-grey">\n            <div id="marlinStatus"></div>\n            <div id="marlinPosition" class="w3-tiny"></div>\n            <div id="marlinCommands" class="w3-tiny w3-hide">\n            <p>\n            <button id="marlinHome" class="w3-button w3-round w3-light-grey">home</button>\n            <button id="marlinPos"  class="w3-button w3-round w3-light-grey">pos?</button>\n            <button id="marlinRel"  class="w3-button w3-round w3-light-grey">rel</button>\n            <button id="marlinAbs"  class="w3-button w3-round w3-light-grey">abs</button>\n            <button id="marlinCold" class="w3-button w3-round w3-light-grey">cold</button>\n            </p>\n            <p>\n            <button id="marlinXP" class="w3-button w3-round w3-light-grey">x+</button>\n            <button id="marlinXM" class="w3-button w3-round w3-light-grey">x-</button>\n            <button id="marlinYP" class="w3-button w3-round w3-light-grey">y+</button>\n            <button id="marlinYM" class="w3-button w3-round w3-light-grey">y-</button>\n            <button id="marlinZP" class="w3-button w3-round w3-light-grey">z+</button>\n            <button id="marlinZM" class="w3-button w3-round w3-light-grey">z-</button>\n            </p>\n            <p>\n            <button id="marlinEP" class="w3-button w3-round w3-light-grey">e+</button>\n            <button id="marlinEM" class="w3-button w3-round w3-light-grey">e-</button>\n            </p>\n            </div>\n            </div>\n            ',this.marlinDivStatus=document.getElementById("marlinStatus"),this.marlinDivPosition=document.getElementById("marlinPosition"),this.marlinDivCommands=document.getElementById("marlinCommands"),this.setStatus(c.NC);const t=document.getElementById("marlinHome");t&&(t.onclick=this.onBtnHome.bind(this));const e=document.getElementById("marlinPos");e&&(e.onclick=this.onBtnPos.bind(this));const s=document.getElementById("marlinRel");s&&(s.onclick=this.onBtnRel.bind(this));const i=document.getElementById("marlinAbs");i&&(i.onclick=this.onBtnAbs.bind(this));const o=document.getElementById("marlinCold");o&&(o.onclick=this.onBtnCold.bind(this));const n=document.getElementById("marlinXP");n&&(n.onclick=this.onBtnXP.bind(this));const l=document.getElementById("marlinXM");l&&(l.onclick=this.onBtnXM.bind(this));const r=document.getElementById("marlinYP");r&&(r.onclick=this.onBtnYP.bind(this));const h=document.getElementById("marlinYM");h&&(h.onclick=this.onBtnYM.bind(this));const a=document.getElementById("marlinZP");a&&(a.onclick=this.onBtnZP.bind(this));const d=document.getElementById("marlinZM");d&&(d.onclick=this.onBtnZM.bind(this));const u=document.getElementById("marlinEP");u&&(u.onclick=this.onBtnEP.bind(this));const m=document.getElementById("marlinEM");m&&(m.onclick=this.onBtnEM.bind(this))}}};function R(){D=void 0,g&&(g.innerHTML="")}function Z(){x&&L&&(window.requestAnimationFrame(Z),L.setTransform(F?F.zoom:1,0,0,F?F.zoom:1,0,0),L.clearRect(0,0,x.width,x.height),N.lines.forEach((t=>t.draw(L))),W.draw(),L.setTransform(1,0,0,-1,0,x.height),F&&F.draw())}async function j(t){if(p&&w&&L&&x&&T&&P&&z&&y){F=new a,F.setCanvas(L,x);let e=new m(F);p.innerHTML="",w.innerHTML="",y.innerText=t.name,T.style.display="block",e.padsField=p,e.coordsField=w,z.onclick=()=>{e.cancel()},e.processCB=t=>{P&&(P.style.width=`${t}%`)},await e.parseFile(t),F.zoomToFit([x.width,x.height]),T.style.display="none"}}globalThis.accordionToggler=t=>{var e=document.getElementById(t);e?-1==e.className.indexOf("w3-show")&&-1==e.className.indexOf("w3-hide")?e.className+=" w3-show":-1!=e.className.indexOf("w3-show")?e.className=e.className.replace("w3-show","w3-hide"):e.className=e.className.replace("w3-hide","w3-show"):console.warn("accordionToggler no elem with id:",t),globalThis.resize()},globalThis.openSidebar=()=>{O&&S&&C&&(O.style.marginRight="350px",S.style.width="350px",S.style.display="block",C.style.display="none")},globalThis.closeSidebar=()=>{O&&S&&C&&(O.style.marginRight="0px",S.style.display="none",C.style.display="inline-block")},globalThis.zoomToFit=()=>{F&&x&&F.zoomToFit([x.width,x.height])},globalThis.rotateRight=()=>{var t;t="müsste ma einer implementieren, ne",D&&window.clearTimeout(D),g&&(g.innerHTML=`${t}`,D=window.setTimeout(R,1e4))},globalThis.resize=()=>{if(x&&I&&M&&S&&v){x.width=innerWidth,x.height=innerHeight-I.getBoundingClientRect().height-M.getBoundingClientRect().height,W.draw(),N.draw(L,x);let t=innerHeight-M.getBoundingClientRect().height,e=0;for(let t of S.children){let s=t;-1==s.className.indexOf("w3-hide")&&(e+=s.clientHeight)}-1!=v.className.indexOf("w3-hide")?(S.style.height=`${e+16}px`,v.style.height="16px"):(e-=v.getBoundingClientRect().height,S.style.height=`${t}px`,v.style.height=t-e-16+"px")}},document.addEventListener("DOMContentLoaded",(function(){b&&X&&k&&Y&&E&&z&&p&&w&&f&&x&&M?(L=x.getContext("2d"),x.addEventListener("mousemove",(t=>{F&&F.mouseMove(t),t.preventDefault()}),!1),x.addEventListener("mousedown",(t=>{F&&F.mouseDown(t),t.preventDefault()}),!1),x.addEventListener("mouseup",(t=>{F&&F.mouseUp(t),t.preventDefault()}),!1),x.addEventListener("mouseout",(t=>{F&&F.mouseOut(t),t.preventDefault()}),!1),x.addEventListener("wheel",(t=>{F&&F.mouseWheel(t),t.preventDefault()}),!1),b.onclick=()=>{var t=document.createElement("input");return t.type="file",t.click(),t.addEventListener("change",(e=>{if(console.log(e),t.files&&t.files.length>0){let e=t.files[0];console.log(e),console.log(`file: ${e.name} size:${e.size}`),j(e)}else alert("please choose a file")})),!1},X.onclick=t=>{F.setZero(),$.setZero(F.getZero())},k.onclick=t=>{let e=F.getSelectedZero();$.moveTo(e[0],e[1],void 0,void 0)},Y.onclick=t=>{let e=F.getSelected(),s=F.getSelectedZero();$.moveToAll(e,s)},E.onclick=()=>{$.blob()},f.ondrop=t=>{t.preventDefault(),console.log(t),t.dataTransfer&&t.dataTransfer.items?[...t.dataTransfer.items].forEach(((t,e)=>{if("file"===t.kind){const s=t.getAsFile();s&&(console.log(`… item[${e}].name = ${s.name}`),j(s))}})):t.dataTransfer&&[...t.dataTransfer.files].forEach(((t,e)=>{t&&(console.log(`… file[${e}].name = ${t.name}`),j(t))}))},f.ondragover=t=>{console.log("File(s) in drop zone"),t.preventDefault()},x.oncontextmenu=t=>{t.preventDefault(),B&&(B.style.left=`${t.pageX}px`,B.style.top=`${t.pageY}px`,B.className=B.className.replace("w3-hide","w3-show"))},x.onmouseup=t=>{B&&(B.className=B.className.replace("w3-show","w3-hide"))},L&&(F=new a,F.setCanvas(L,x),W=new(0,s.Mouse)(L,x),W.track(),N=new(0,s.Grid),N.step=2,N.lineWidth=.03,N.boldWidth=.05,N.createLines(x)),globalThis.resize(),window.requestAnimationFrame(Z)):console.error("missing html elements !")})),window.addEventListener("resize",(t=>{globalThis.resize()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L0JtTyxXQUFXRyxRQUFNIiwic291cmNlcyI6WyJzcmMva2RUcmVlLnRzIiwibm9kZV9tb2R1bGVzL2NhbnZhcy1jb29yZHMvZGlzdC9pbmRleC5qcyIsInNyYy9kZXZpY2UudHMiLCJzcmMvcGNiLnRzIiwic3JjL2RldmljZU1hcmxpbi50cyIsInNyYy9wYXJzZXIudHMiLCJzcmMvcGFyc2VyR2VyYmVyLnRzIiwic3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBrLWQgVHJlZSBKYXZhU2NyaXB0IC0gViAxLjAxXHJcbiAqXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91YmlsYWJzL2tkLXRyZWUtamF2YXNjcmlwdFxyXG4gKlxyXG4gKiBAYXV0aG9yIE1pcmNlYSBQcmljb3AgPHByaWNvcEB1YmlsYWJzLm5ldD4sIDIwMTJcclxuICogQGF1dGhvciBNYXJ0aW4gS2xlcHBlIDxrbGVwcGVAdWJpbGFicy5uZXQ+LCAyMDEyXHJcbiAqIEBhdXRob3IgVWJpbGFicyBodHRwOi8vdWJpbGFicy5uZXQsIDIwMTJcclxuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UgPGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwPlxyXG4gKi9cclxuXHJcbi8qIElzc3VlIFwiVGhlIHJlbW92ZSBtZXRob2QgaGFzIGVycm9yc1wiIGh0dHBzOi8vZ2l0aHViLmNvbS91YmlsYWJzL2tkLXRyZWUtamF2YXNjcmlwdC9pc3N1ZXMvMjVcclxuXHJcbiBBZnRlciBoYXZpbmcgcmVtb3ZlZCBzb21lIG5vZGVzLCB0aGV5IGNhbiBzdGlsbCBiZSBmb3VuZCBpbiB0aGUga2RUcmVlIGluIHNvbWUgc2l0dWF0aW9ucy5cclxuXHJcbiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgdGhlIHJlbW92ZSBtZXRob2QgZXJyb3JzOlxyXG5cclxuIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3NhbnRveGkvYmE4ZDI4M2Y5YTIxNTIzZmE0NWQyM2Q4ZTljMzA0NmVcclxuXHJcbiBhcyBhIHRlbXBvcmFyeSB3b3JrLWFyb3VuZCwgSSBhZGRlZCBhIGZvdXJ0aCBhcmd1bWVudCB0byBcIm5lYXJlc3RcIiB0byBwYXNzIGEgcHJlZGljYXRlIHRvIGZpbHRlciB0aGUgbWF0Y2hlZCBub2Rlcywgd2hpY2ggbWlnaHQgYmUgYWxzbyB1c2VmdWwgdG8gYWRkOlxyXG5cclxuICAgICB0aGlzLm5lYXJlc3QgPSBmdW5jdGlvbiAocG9pbnQsIG1heE5vZGVzLCBtYXhEaXN0YW5jZSwgcHJlZGljYXRlKSB7XHJcbiAgICAgICAgICAgICBwcmVkaWNhdGUgPSBwcmVkaWNhdGUgfHwgKHggPT4gdHJ1ZSk7XHJcbiAuLi4uXHJcbiAgICAgICAgIGxpbmVhckRpc3RhbmNlID0gbWV0cmljKGxpbmVhclBvaW50LCBub2RlLm9iaik7XHJcblxyXG4gICAgICAgICBpZiAobm9kZS5yaWdodCA9PT0gbnVsbCAmJiBub2RlLmxlZnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICBpZiAocHJlZGljYXRlKG5vZGUub2JqKSAmJiAoYmVzdE5vZGVzLnNpemUoKSA8IG1heE5vZGVzIHx8IG93bkRpc3RhbmNlIDwgYmVzdE5vZGVzLnBlZWsoKVsxXSkpIHtcclxuICAgICAgICAgICAgIHNhdmVOb2RlKG5vZGUsIG93bkRpc3RhbmNlKTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICB9XHJcbiAuLi4uXHJcbiAgICAgICAgIG5lYXJlc3RTZWFyY2goYmVzdENoaWxkKTtcclxuXHJcbiAgICAgICAgIGlmIChwcmVkaWNhdGUobm9kZS5vYmopICYmIChiZXN0Tm9kZXMuc2l6ZSgpIDwgbWF4Tm9kZXMgfHwgb3duRGlzdGFuY2UgPCBiZXN0Tm9kZXMucGVlaygpWzFdKSkge1xyXG4gICAgICAgICAgIHNhdmVOb2RlKG5vZGUsIG93bkRpc3RhbmNlKTtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAqL1xyXG5cclxuZXhwb3J0IGNsYXNzIGtkVHJlZU9iamVjdCB7IH1cclxuXHJcbmV4cG9ydCBjbGFzcyBrZE5vZGU8VCBleHRlbmRzIGtkVHJlZU9iamVjdD4ge1xyXG4gICAgb2JqOiBUO1xyXG4gICAgbGVmdDoga2ROb2RlPFQ+IHwgbnVsbDtcclxuICAgIHJpZ2h0OiBrZE5vZGU8VD4gfCBudWxsO1xyXG4gICAgcGFyZW50OiBrZE5vZGU8VD47XHJcbiAgICBkaW1lbnNpb246IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKG9iajogVCwgZGltZW5zaW9uOiBudW1iZXIsIHBhcmVudCkge1xyXG4gICAgICAgIHRoaXMub2JqID0gb2JqO1xyXG4gICAgICAgIHRoaXMubGVmdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yaWdodCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb24gPSBkaW1lbnNpb247XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBrZFRyZWU8VCBleHRlbmRzIGtkVHJlZU9iamVjdD4ge1xyXG4gICAgcHJpdmF0ZSBfa2RUcmVlT2JqZWN0VHlwZTogdHlwZW9mIGtkVHJlZU9iamVjdDtcclxuXHJcbiAgICBwb2ludHM6IFRbXTtcclxuICAgIG1ldHJpYzogKGE6IFQsIGI6IFQpID0+IG51bWJlcjtcclxuICAgIGRpbWVuc2lvbnM6IChrZXlvZiBUKVtdO1xyXG4gICAgcm9vdDoga2ROb2RlPFQ+IHwgbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyB0cmVlIGZyb20gYSBsaXN0IG9mIHBvaW50cywgYSBkaXN0YW5jZSBmdW5jdGlvbiwgYW5kIGEgbGlzdCBvZiBkaW1lbnNpb25zLlxyXG4gICAgICogQHBhcmFtIHBvaW50c1xyXG4gICAgICogQHBhcmFtIGRpc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0gZGltZW5zaW9uc1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihvYmo6IHR5cGVvZiBrZFRyZWVPYmplY3QsIHBvaW50czogVFtdLCBkaXN0YW5jZTogKGE6IFQsIGI6IFQpID0+IG51bWJlciwgZGltZW5zaW9uczogQXJyYXk8a2V5b2YgVD4pIHtcclxuICAgICAgICB0aGlzLl9rZFRyZWVPYmplY3RUeXBlID0gb2JqO1xyXG5cclxuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcclxuICAgICAgICB0aGlzLm1ldHJpYyA9IGRpc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XHJcblxyXG4gICAgICAgIC8vIElmIHBvaW50cyBpcyBub3QgYW4gYXJyYXksIGFzc3VtZSB3ZSdyZSBsb2FkaW5nIGEgcHJlLWJ1aWx0IHRyZWVcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRUcmVlKHBvaW50cyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gdGhpcy5idWlsZFRyZWUocG9pbnRzLCAwLCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBidWlsZFRyZWUocG9pbnRzOiBUW10sIGRlcHRoOiBudW1iZXIsIHBhcmVudDoga2ROb2RlPFQ+IHwgbnVsbCk6IGtkTm9kZTxUPiB8IG51bGwge1xyXG4gICAgICAgIHZhciBkaW0gPSBkZXB0aCAlIHRoaXMuZGltZW5zaW9ucy5sZW5ndGg7XHJcbiAgICAgICAgdmFyIG1lZGlhbjtcclxuICAgICAgICB2YXIgbm9kZToga2ROb2RlPFQ+O1xyXG5cclxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBrZE5vZGUocG9pbnRzWzBdLCBkaW0sIHBhcmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwb2ludHMuc29ydCgoYTogVCwgYjogVCk6IG51bWJlciA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiA8bnVtYmVyPmFbdGhpcy5kaW1lbnNpb25zW2RpbV1dIC0gPG51bWJlcj5iW3RoaXMuZGltZW5zaW9uc1tkaW1dXTsgLy8gZGlzdGFuY2UgaW4gdGhlIGRpbWVuc2lvblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZWRpYW4gPSBNYXRoLmZsb29yKHBvaW50cy5sZW5ndGggLyAyKTtcclxuICAgICAgICBub2RlID0gbmV3IGtkTm9kZShwb2ludHNbbWVkaWFuXSwgZGltLCBwYXJlbnQpO1xyXG4gICAgICAgIG5vZGUubGVmdCA9IHRoaXMuYnVpbGRUcmVlKHBvaW50cy5zbGljZSgwLCBtZWRpYW4pLCBkZXB0aCArIDEsIG5vZGUpO1xyXG4gICAgICAgIG5vZGUucmlnaHQgPSB0aGlzLmJ1aWxkVHJlZShwb2ludHMuc2xpY2UobWVkaWFuICsgMSksIGRlcHRoICsgMSwgbm9kZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbG9hZHMgYSBzZXJpYWxpZWQgdHJlZVxyXG4gICAgcHJpdmF0ZSBsb2FkVHJlZShkYXRhKSB7XHJcbiAgICAgICAgLy8gSnVzdCBuZWVkIHRvIHJlc3RvcmUgdGhlIGBwYXJlbnRgIHBhcmFtZXRlclxyXG4gICAgICAgIHRoaXMucm9vdCA9IGRhdGE7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc3RvcmVQYXJlbnQocm9vdCkge1xyXG4gICAgICAgICAgICBpZiAocm9vdC5sZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICByb290LmxlZnQucGFyZW50ID0gcm9vdDtcclxuICAgICAgICAgICAgICAgIHJlc3RvcmVQYXJlbnQocm9vdC5sZWZ0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHJvb3QucmlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHJvb3QucmlnaHQucGFyZW50ID0gcm9vdDtcclxuICAgICAgICAgICAgICAgIHJlc3RvcmVQYXJlbnQocm9vdC5yaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlc3RvcmVQYXJlbnQodGhpcy5yb290KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb252ZXJ0IHRvIGEgSlNPTiBzZXJpYWxpemFibGUgc3RydWN0dXJlOyB0aGlzIGp1c3QgcmVxdWlyZXMgcmVtb3ZpbmdcclxuICAgIC8vIHRoZSBgcGFyZW50YCBwcm9wZXJ0eVxyXG4gICAgdG9KU09OKHNyYzoga2ROb2RlPFQ+IHwgbnVsbCA9IHRoaXMucm9vdCkge1xyXG4gICAgICAgIGlmIChzcmMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkZXN0ID0gbmV3IGtkTm9kZShzcmMub2JqLCBzcmMuZGltZW5zaW9uLCBudWxsKTtcclxuICAgICAgICBpZiAoc3JjLmxlZnQpIGRlc3QubGVmdCA9IHRoaXMudG9KU09OKHNyYy5sZWZ0KTtcclxuICAgICAgICBpZiAoc3JjLnJpZ2h0KSBkZXN0LnJpZ2h0ID0gdGhpcy50b0pTT04oc3JjLnJpZ2h0KTtcclxuICAgICAgICByZXR1cm4gZGVzdDtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBpbm5lclNlYXJjaChwb2ludCwgbm9kZSwgcGFyZW50KSB7XHJcbiAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbnNbbm9kZS5kaW1lbnNpb25dO1xyXG4gICAgICAgIGlmIChwb2ludFtkaW1lbnNpb25dIDwgbm9kZS5vYmpbZGltZW5zaW9uXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbm5lclNlYXJjaChwb2ludCwgbm9kZS5sZWZ0LCBub2RlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbm5lclNlYXJjaChwb2ludCwgbm9kZS5yaWdodCwgbm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbnNlcnQocG9pbnQpIHtcclxuICAgICAgICB2YXIgaW5zZXJ0UG9zaXRpb24gPSB0aGlzLmlubmVyU2VhcmNoKHBvaW50LCB0aGlzLnJvb3QsIG51bGwpLFxyXG4gICAgICAgICAgICBuZXdrZE5vZGUsXHJcbiAgICAgICAgICAgIGRpbWVuc2lvbjtcclxuXHJcbiAgICAgICAgaWYgKGluc2VydFBvc2l0aW9uID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IG5ldyBrZE5vZGUocG9pbnQsIDAsIG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZXdrZE5vZGUgPSBuZXcga2ROb2RlKHBvaW50LCAoaW5zZXJ0UG9zaXRpb24uZGltZW5zaW9uICsgMSkgJSB0aGlzLmRpbWVuc2lvbnMubGVuZ3RoLCBpbnNlcnRQb3NpdGlvbik7XHJcbiAgICAgICAgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb25zW2luc2VydFBvc2l0aW9uLmRpbWVuc2lvbl07XHJcblxyXG4gICAgICAgIGlmIChwb2ludFtkaW1lbnNpb25dIDwgaW5zZXJ0UG9zaXRpb24ub2JqW2RpbWVuc2lvbl0pIHtcclxuICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb24ubGVmdCA9IG5ld2tkTm9kZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnNlcnRQb3NpdGlvbi5yaWdodCA9IG5ld2tkTm9kZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgbm9kZVNlYXJjaChwb2ludDogVCwgbm9kZToga2ROb2RlPFQ+IHwgbnVsbCkge1xyXG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5vZGUub2JqID09PSBwb2ludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBlcXVhbGl0eSBjaGVjayA/Pz8gd2lsbCBpdCB3b3JrIG9uIGZsb2F0cyA/Pz8gLy8gbm90IHRoZSBwcm9ibGVtLCBpdCBkb2VzIG5vdCBmaW5kIGEgY2FuZGlkYXRlICEhISB1dXVoaGhcclxuICAgICAgICAgICAgbGV0IG1ldCA9IHRoaXMubWV0cmljKG5vZGUub2JqLCBwb2ludCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdrZFRyZWU6bm9kZVNlYXJjaCcsIG1ldCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb25zW25vZGUuZGltZW5zaW9uXTtcclxuXHJcbiAgICAgICAgLy8gdXV1aGhoIGxvb2tpbmcgYXQgdGhlIHRyZWUgSSBzZWUgbGVmdCA8PSBvYmpbZGltXVxyXG4gICAgICAgIGlmIChwb2ludFtkaW1lbnNpb25dIDw9IG5vZGUub2JqW2RpbWVuc2lvbl0pIHsgIC8vIG9yaWdpbmFsIDxcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGtkVHJlZTpub2RlU2VhcmNoIGxlZnQgJHtwb2ludFtkaW1lbnNpb25dfSA8PT8gJHtub2RlLm9ialtkaW1lbnNpb25dfWApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub2RlU2VhcmNoKHBvaW50LCBub2RlLmxlZnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBrZFRyZWU6bm9kZVNlYXJjaCByaWdodCAke3BvaW50W2RpbWVuc2lvbl19ID4/ICR7bm9kZS5vYmpbZGltZW5zaW9uXX1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9kZVNlYXJjaChwb2ludCwgbm9kZS5yaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmluZE1pbihub2RlOiBrZE5vZGU8VD4gfCBudWxsLCBkaW06IG51bWJlcik6IGtkTm9kZTxUPiB8IG51bGwge1xyXG4gICAgICAgIHZhciBkaW1lbnNpb246IGFueTtcclxuICAgICAgICB2YXIgb3duOiBudW1iZXI7XHJcbiAgICAgICAgdmFyIGxlZnQ7XHJcbiAgICAgICAgdmFyIHJpZ2h0O1xyXG4gICAgICAgIHZhciBtaW46IGtkTm9kZTxUPjtcclxuXHJcbiAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbnNbZGltXTtcclxuXHJcbiAgICAgICAgaWYgKG5vZGUuZGltZW5zaW9uID09PSBkaW0pIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUubGVmdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZE1pbihub2RlLmxlZnQsIGRpbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvd24gPSBub2RlLm9ialtkaW1lbnNpb25dO1xyXG4gICAgICAgIGxlZnQgPSB0aGlzLmZpbmRNaW4obm9kZS5sZWZ0LCBkaW0pO1xyXG4gICAgICAgIHJpZ2h0ID0gdGhpcy5maW5kTWluKG5vZGUucmlnaHQsIGRpbSk7XHJcbiAgICAgICAgbWluID0gbm9kZTtcclxuXHJcbiAgICAgICAgaWYgKGxlZnQgIT09IG51bGwgJiYgbGVmdC5vYmpbZGltZW5zaW9uXSA8IG93bikge1xyXG4gICAgICAgICAgICBtaW4gPSBsZWZ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmlnaHQgIT09IG51bGwgJiYgcmlnaHQub2JqW2RpbWVuc2lvbl0gPCBtaW4ub2JqW2RpbWVuc2lvbl0pIHtcclxuICAgICAgICAgICAgbWluID0gcmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaW5kTWF4KG5vZGU6IGtkTm9kZTxUPiwgZGltOiBudW1iZXIpOiBrZE5vZGU8VD4ge1xyXG4gICAgICAgIHZhciBkaW1lbnNpb246IGFueTtcclxuICAgICAgICB2YXIgb3duOiBudW1iZXI7XHJcbiAgICAgICAgdmFyIGxlZnQ6IGtkTm9kZTxUPiB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIHZhciByaWdodDoga2ROb2RlPFQ+IHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgdmFyIG1heDoga2ROb2RlPFQ+O1xyXG5cclxuICAgICAgICBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbnNbZGltXTtcclxuXHJcbiAgICAgICAgaWYgKG5vZGUuZGltZW5zaW9uID09PSBkaW0pIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUubGVmdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZE1heChub2RlLmxlZnQsIGRpbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvd24gPSBub2RlLm9ialtkaW1lbnNpb25dO1xyXG4gICAgICAgIGlmIChub2RlLmxlZnQpIHtcclxuICAgICAgICAgICAgbGVmdCA9IHRoaXMuZmluZE1heChub2RlLmxlZnQsIGRpbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChub2RlLnJpZ2h0KSB7XHJcbiAgICAgICAgICAgIHJpZ2h0ID0gdGhpcy5maW5kTWF4KG5vZGUucmlnaHQsIGRpbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1heCA9IG5vZGU7XHJcblxyXG4gICAgICAgIGlmIChsZWZ0ICE9PSBudWxsICYmIGxlZnQub2JqW2RpbWVuc2lvbl0gPiBvd24pIHtcclxuICAgICAgICAgICAgbWF4ID0gbGVmdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJpZ2h0ICE9PSBudWxsICYmIHJpZ2h0Lm9ialtkaW1lbnNpb25dID4gbWF4Lm9ialtkaW1lbnNpb25dKSB7XHJcbiAgICAgICAgICAgIG1heCA9IHJpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWF4O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVtb3ZlTm9kZShub2RlOiBrZE5vZGU8VD4gfCBudWxsKSB7XHJcbiAgICAgICAgdmFyIG5leHROb2RlOiBrZE5vZGU8VD4gfCBudWxsO1xyXG4gICAgICAgIHZhciBuZXh0T2JqOiBUO1xyXG4gICAgICAgIHZhciBwRGltZW5zaW9uOiBhbnk7XHJcblxyXG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5vZGUubGVmdCA9PT0gbnVsbCAmJiBub2RlLnJpZ2h0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChub2RlLnBhcmVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb290ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcERpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uc1tub2RlLnBhcmVudC5kaW1lbnNpb25dO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5vZGUub2JqW3BEaW1lbnNpb25dIDw9IG5vZGUucGFyZW50Lm9ialtwRGltZW5zaW9uXSkgeyAvL29yaWcgPFxyXG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQubGVmdCA9IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudC5yaWdodCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHJpZ2h0IHN1YnRyZWUgaXMgbm90IGVtcHR5LCBzd2FwIHdpdGggdGhlIG1pbmltdW0gZWxlbWVudCBvbiB0aGVcclxuICAgICAgICAvLyBub2RlJ3MgZGltZW5zaW9uLiBJZiBpdCBpcyBlbXB0eSwgd2Ugc3dhcCB0aGUgbGVmdCBhbmQgcmlnaHQgc3VidHJlZXMgYW5kXHJcbiAgICAgICAgLy8gZG8gdGhlIHNhbWUuXHJcbiAgICAgICAgaWYgKG5vZGUubGVmdCAhPT0gbnVsbCkgeyAvLyBvcmlnIHJpZ2h0XHJcbiAgICAgICAgICAgIG5leHROb2RlID0gdGhpcy5maW5kTWF4KG5vZGUubGVmdCwgbm9kZS5kaW1lbnNpb24pOyAvLyBvcmlnIHJpZ2h0LCBmaW5kTWluXHJcbiAgICAgICAgICAgIG5leHRPYmogPSBuZXh0Tm9kZS5vYmo7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTm9kZShuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgIG5vZGUub2JqID0gbmV4dE9iajtcclxuICAgICAgICB9IGVsc2UgaWYgKG5vZGUucmlnaHQgIT09IG51bGwpIHsgLy8gbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxyXG4gICAgICAgICAgICBuZXh0Tm9kZSA9IHRoaXMuZmluZE1heChub2RlLnJpZ2h0LCBub2RlLmRpbWVuc2lvbik7IC8vIG9yaWcgbGVmdCwgZmluZE1pblxyXG4gICAgICAgICAgICBuZXh0T2JqID0gbmV4dE5vZGUub2JqO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZU5vZGUobmV4dE5vZGUpO1xyXG4gICAgICAgICAgICBub2RlLmxlZnQgPSBub2RlLnJpZ2h0OyAvLyBvcmlnIHJpZ2h0ID0gbGVmdFxyXG4gICAgICAgICAgICBub2RlLnJpZ2h0ID0gbnVsbDsgLy9vcmlnIGxlZnRcclxuICAgICAgICAgICAgbm9kZS5vYmogPSBuZXh0T2JqO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZShwb2ludDogVCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHZhciBub2RlOiBrZE5vZGU8VD4gfCBudWxsO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZygna2RUcmVlOnJlbW92ZSBzZWFyY2hpbmc6JywgcG9pbnQpO1xyXG4gICAgICAgIG5vZGUgPSB0aGlzLm5vZGVTZWFyY2gocG9pbnQsIHRoaXMucm9vdCk7XHJcblxyXG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcImtkVHJlZTpyZW1vdmU6a2FjayduJ3NoaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVtb3ZlTm9kZShub2RlKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBuZWFyZXN0U2VhcmNoKGRhdGE6IHsgcG9pbnQ6IFQsIGJlc3ROb2RlczogQmluYXJ5SGVhcDxUPiwgbWF4Tm9kZXM6IG51bWJlciB9LCBub2RlKSB7XHJcbiAgICAgICAgbGV0IGJlc3RDaGlsZDtcclxuICAgICAgICBsZXQgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb25zW25vZGUuZGltZW5zaW9uXTtcclxuICAgICAgICBsZXQgb3duRGlzdGFuY2UgPSB0aGlzLm1ldHJpYyhkYXRhLnBvaW50LCBub2RlLm9iaik7XHJcbiAgICAgICAgbGV0IGxpbmVhclBvaW50OiBUID0gPFQ+bmV3IHRoaXMuX2tkVHJlZU9iamVjdFR5cGUoKTtcclxuICAgICAgICB2YXIgbGluZWFyRGlzdGFuY2U7XHJcbiAgICAgICAgbGV0IG90aGVyQ2hpbGQ7XHJcbiAgICAgICAgbGV0IGk7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBrZFRyZWU6bmVhcmVzdFNlYXJjaGAsIGRhdGEpO1xyXG5cclxuICAgICAgICBjb25zdCBzYXZlTm9kZSA9IChub2RlOiBrZE5vZGU8VD4sIGRpc3RhbmNlOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgZGF0YS5iZXN0Tm9kZXMucHVzaChbbm9kZSwgZGlzdGFuY2VdKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEuYmVzdE5vZGVzLnNpemUoKSA+IGRhdGEubWF4Tm9kZXMpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEuYmVzdE5vZGVzLnBvcCgpOyAvLyBlbmRsZXNzIGxvb3AgaGVyZSAhISFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZGltZW5zaW9ucy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gbm9kZS5kaW1lbnNpb24pIHtcclxuICAgICAgICAgICAgICAgIGxpbmVhclBvaW50W3RoaXMuZGltZW5zaW9uc1tpXV0gPSBkYXRhLnBvaW50W3RoaXMuZGltZW5zaW9uc1tpXV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lYXJQb2ludFt0aGlzLmRpbWVuc2lvbnNbaV1dID0gbm9kZS5vYmpbdGhpcy5kaW1lbnNpb25zW2ldXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGluZWFyRGlzdGFuY2UgPSB0aGlzLm1ldHJpYyhsaW5lYXJQb2ludCwgbm9kZS5vYmopO1xyXG5cclxuICAgICAgICBpZiAobm9kZS5yaWdodCA9PT0gbnVsbCAmJiBub2RlLmxlZnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuYmVzdE5vZGVzLnNpemUoKSA8IGRhdGEubWF4Tm9kZXMgfHwgb3duRGlzdGFuY2UgPCBkYXRhLmJlc3ROb2Rlcy5wZWVrKClbMV0pIHtcclxuICAgICAgICAgICAgICAgIHNhdmVOb2RlKG5vZGUsIG93bkRpc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobm9kZS5yaWdodCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBiZXN0Q2hpbGQgPSBub2RlLmxlZnQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChub2RlLmxlZnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgYmVzdENoaWxkID0gbm9kZS5yaWdodDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludFtkaW1lbnNpb25dIDwgbm9kZS5vYmpbZGltZW5zaW9uXSkge1xyXG4gICAgICAgICAgICAgICAgYmVzdENoaWxkID0gbm9kZS5sZWZ0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmVzdENoaWxkID0gbm9kZS5yaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5uZWFyZXN0U2VhcmNoKGRhdGEsIGJlc3RDaGlsZCk7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLmJlc3ROb2Rlcy5zaXplKCkgPCBkYXRhLm1heE5vZGVzIHx8IG93bkRpc3RhbmNlIDwgZGF0YS5iZXN0Tm9kZXMucGVlaygpWzFdKSB7XHJcbiAgICAgICAgICAgIHNhdmVOb2RlKG5vZGUsIG93bkRpc3RhbmNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkYXRhLmJlc3ROb2Rlcy5zaXplKCkgPCBkYXRhLm1heE5vZGVzIHx8IE1hdGguYWJzKGxpbmVhckRpc3RhbmNlKSA8IGRhdGEuYmVzdE5vZGVzLnBlZWsoKVsxXSkge1xyXG4gICAgICAgICAgICBpZiAoYmVzdENoaWxkID09PSBub2RlLmxlZnQpIHtcclxuICAgICAgICAgICAgICAgIG90aGVyQ2hpbGQgPSBub2RlLnJpZ2h0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3RoZXJDaGlsZCA9IG5vZGUubGVmdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob3RoZXJDaGlsZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZWFyZXN0U2VhcmNoKGRhdGEsIG90aGVyQ2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG5lYXJlc3QocG9pbnQ6IFQsIG1heE5vZGVzOiBudW1iZXIsIG1heERpc3RhbmNlPzogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IGk7XHJcbiAgICAgICAgbGV0IHJlc3VsdDogYW55W10gPSBbXTtcclxuICAgICAgICBsZXQgYmVzdE5vZGVzOiBCaW5hcnlIZWFwPFQ+O1xyXG5cclxuICAgICAgICBiZXN0Tm9kZXMgPSBuZXcgQmluYXJ5SGVhcChcclxuICAgICAgICAgICAgKGUpID0+IHsgcmV0dXJuIC1lWzFdOyB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKG1heERpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdrZFRyZWU6bmVhcmVzdCwgbWF4bm9kZXMnLCBtYXhOb2Rlcyk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBtYXhOb2RlczsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICBiZXN0Tm9kZXMucHVzaChbbnVsbCwgbWF4RGlzdGFuY2VdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucm9vdCkge1xyXG4gICAgICAgICAgICB0aGlzLm5lYXJlc3RTZWFyY2goeyBwb2ludCwgYmVzdE5vZGVzLCBtYXhOb2RlcyB9LCB0aGlzLnJvb3QpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBNYXRoLm1pbihtYXhOb2RlcywgYmVzdE5vZGVzLmNvbnRlbnQubGVuZ3RoKTsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgIGlmIChiZXN0Tm9kZXMuY29udGVudFtpXVswXSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW2Jlc3ROb2Rlcy5jb250ZW50W2ldWzBdLm9iaiwgYmVzdE5vZGVzLmNvbnRlbnRbaV1bMV1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICBiYWxhbmNlRmFjdG9yKCkge1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IChub2RlOiBrZE5vZGU8VD4gfCBudWxsKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChub2RlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoaGVpZ2h0KG5vZGUubGVmdCksIGhlaWdodChub2RlLnJpZ2h0KSkgKyAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY291bnQgPSAobm9kZToga2ROb2RlPFQ+IHwgbnVsbCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvdW50KG5vZGUubGVmdCkgKyBjb3VudChub2RlLnJpZ2h0KSArIDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaGVpZ2h0KHRoaXMucm9vdCkgLyAoTWF0aC5sb2coY291bnQodGhpcy5yb290KSkgLyBNYXRoLmxvZygyKSk7XHJcbiAgICB9O1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyBCaW5hcnkgaGVhcCBpbXBsZW1lbnRhdGlvbiBmcm9tOlxyXG4vLyBodHRwOi8vZWxvcXVlbnRqYXZhc2NyaXB0Lm5ldC9hcHBlbmRpeDIuaHRtbFxyXG5cclxuZXhwb3J0IGNsYXNzIEJpbmFyeUhlYXA8VCBleHRlbmRzIGtkVHJlZU9iamVjdD4ge1xyXG4gICAgY29udGVudDogW25vZGU6IGtkTm9kZTxUPiB8IG51bGwsIGRpc3RhbmNlOiBudW1iZXJdW107XHJcbiAgICBzY29yZUZ1bmN0aW9uOiBhbnk7XHJcbiAgICBjb25zdHJ1Y3RvcihzY29yZUZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gW107XHJcbiAgICAgICAgdGhpcy5zY29yZUZ1bmN0aW9uID0gc2NvcmVGdW5jdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdXNoKGVsZW1lbnQ6IFtub2RlOiBrZE5vZGU8VD4gfCBudWxsLCBkaXN0YW5jZTogbnVtYmVyXSkge1xyXG4gICAgICAgIC8vIEFkZCB0aGUgbmV3IGVsZW1lbnQgdG8gdGhlIGVuZCBvZiB0aGUgYXJyYXkuXHJcbiAgICAgICAgdGhpcy5jb250ZW50LnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgLy8gQWxsb3cgaXQgdG8gYnViYmxlIHVwLlxyXG4gICAgICAgIHRoaXMuYnViYmxlVXAodGhpcy5jb250ZW50Lmxlbmd0aCAtIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvcCgpIHtcclxuICAgICAgICAvLyBTdG9yZSB0aGUgZmlyc3QgZWxlbWVudCBzbyB3ZSBjYW4gcmV0dXJuIGl0IGxhdGVyLlxyXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNvbnRlbnRbMF07XHJcbiAgICAgICAgLy8gR2V0IHRoZSBlbGVtZW50IGF0IHRoZSBlbmQgb2YgdGhlIGFycmF5LlxyXG4gICAgICAgIHZhciBlbmQgPSB0aGlzLmNvbnRlbnQucG9wKCk7XHJcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSBlbGVtZW50cyBsZWZ0LCBwdXQgdGhlIGVuZCBlbGVtZW50IGF0IHRoZVxyXG4gICAgICAgIC8vIHN0YXJ0LCBhbmQgbGV0IGl0IHNpbmsgZG93bi5cclxuICAgICAgICBpZiAoZW5kICYmIHRoaXMuY29udGVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudFswXSA9IGVuZDtcclxuICAgICAgICAgICAgdGhpcy5zaW5rRG93bigwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwZWVrKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRbMF07XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKG5vZGUpIHtcclxuICAgICAgICB2YXIgbGVuID0gdGhpcy5jb250ZW50Lmxlbmd0aDtcclxuICAgICAgICAvLyBUbyByZW1vdmUgYSB2YWx1ZSwgd2UgbXVzdCBzZWFyY2ggdGhyb3VnaCB0aGUgYXJyYXkgdG8gZmluZFxyXG4gICAgICAgIC8vIGl0LlxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudFtpXSA9PSBub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIGl0IGlzIGZvdW5kLCB0aGUgcHJvY2VzcyBzZWVuIGluICdwb3AnIGlzIHJlcGVhdGVkXHJcbiAgICAgICAgICAgICAgICAvLyB0byBmaWxsIHVwIHRoZSBob2xlLlxyXG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IHRoaXMuY29udGVudC5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGlmIChlbmQgJiYgaSAhPSBsZW4gLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W2ldID0gZW5kO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjb3JlRnVuY3Rpb24oZW5kKSA8IHRoaXMuc2NvcmVGdW5jdGlvbihub2RlKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWJibGVVcChpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lua0Rvd24oaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwia2ROb2RlIG5vdCBmb3VuZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBidWJibGVVcChuKSB7XHJcbiAgICAgICAgLy8gRmV0Y2ggdGhlIGVsZW1lbnQgdGhhdCBoYXMgdG8gYmUgbW92ZWQuXHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmNvbnRlbnRbbl07XHJcbiAgICAgICAgLy8gV2hlbiBhdCAwLCBhbiBlbGVtZW50IGNhbiBub3QgZ28gdXAgYW55IGZ1cnRoZXIuXHJcbiAgICAgICAgd2hpbGUgKG4gPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIENvbXB1dGUgdGhlIHBhcmVudCBlbGVtZW50J3MgaW5kZXgsIGFuZCBmZXRjaCBpdC5cclxuICAgICAgICAgICAgdmFyIHBhcmVudE4gPSBNYXRoLmZsb29yKChuICsgMSkgLyAyKSAtIDEsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSB0aGlzLmNvbnRlbnRbcGFyZW50Tl07XHJcbiAgICAgICAgICAgIC8vIFN3YXAgdGhlIGVsZW1lbnRzIGlmIHRoZSBwYXJlbnQgaXMgZ3JlYXRlci5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NvcmVGdW5jdGlvbihlbGVtZW50KSA8IHRoaXMuc2NvcmVGdW5jdGlvbihwYXJlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRbcGFyZW50Tl0gPSBlbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W25dID0gcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlICduJyB0byBjb250aW51ZSBhdCB0aGUgbmV3IHBvc2l0aW9uLlxyXG4gICAgICAgICAgICAgICAgbiA9IHBhcmVudE47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRm91bmQgYSBwYXJlbnQgdGhhdCBpcyBsZXNzLCBubyBuZWVkIHRvIG1vdmUgaXQgZnVydGhlci5cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaW5rRG93bihuKSB7XHJcbiAgICAgICAgLy8gTG9vayB1cCB0aGUgdGFyZ2V0IGVsZW1lbnQgYW5kIGl0cyBzY29yZS5cclxuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5jb250ZW50Lmxlbmd0aCxcclxuICAgICAgICAgICAgZWxlbWVudCA9IHRoaXMuY29udGVudFtuXSxcclxuICAgICAgICAgICAgZWxlbVNjb3JlID0gdGhpcy5zY29yZUZ1bmN0aW9uKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAvLyBDb21wdXRlIHRoZSBpbmRpY2VzIG9mIHRoZSBjaGlsZCBlbGVtZW50cy5cclxuICAgICAgICAgICAgdmFyIGNoaWxkMk4gPSAobiArIDEpICogMjtcclxuICAgICAgICAgICAgdmFyIGNoaWxkMU4gPSBjaGlsZDJOIC0gMTtcclxuICAgICAgICAgICAgLy8gVGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSBuZXcgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQsXHJcbiAgICAgICAgICAgIC8vIGlmIGFueS5cclxuICAgICAgICAgICAgdmFyIHN3YXA6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgZmlyc3QgY2hpbGQgZXhpc3RzIChpcyBpbnNpZGUgdGhlIGFycmF5KS4uLlxyXG4gICAgICAgICAgICBpZiAoY2hpbGQxTiA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTG9vayBpdCB1cCBhbmQgY29tcHV0ZSBpdHMgc2NvcmUuXHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQxID0gdGhpcy5jb250ZW50W2NoaWxkMU5dLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkMVNjb3JlID0gdGhpcy5zY29yZUZ1bmN0aW9uKGNoaWxkMSk7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2NvcmUgaXMgbGVzcyB0aGFuIG91ciBlbGVtZW50J3MsIHdlIG5lZWQgdG8gc3dhcC5cclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZDFTY29yZSA8IGVsZW1TY29yZSlcclxuICAgICAgICAgICAgICAgICAgICBzd2FwID0gY2hpbGQxTjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBEbyB0aGUgc2FtZSBjaGVja3MgZm9yIHRoZSBvdGhlciBjaGlsZC5cclxuICAgICAgICAgICAgaWYgKGNoaWxkMk4gPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZDIgPSB0aGlzLmNvbnRlbnRbY2hpbGQyTl0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQyU2NvcmUgPSB0aGlzLnNjb3JlRnVuY3Rpb24oY2hpbGQyKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZDJTY29yZSA8IChzd2FwID09IG51bGwgPyBlbGVtU2NvcmUgOiBjaGlsZDFTY29yZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2FwID0gY2hpbGQyTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgbmVlZHMgdG8gYmUgbW92ZWQsIHN3YXAgaXQsIGFuZCBjb250aW51ZS5cclxuICAgICAgICAgICAgaWYgKHN3YXAgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W25dID0gdGhpcy5jb250ZW50W3N3YXBdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50W3N3YXBdID0gZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIG4gPSBzd2FwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgd2UgYXJlIGRvbmUuXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydHMua2RUcmVlID0ga2RUcmVlO1xyXG5leHBvcnRzLkJpbmFyeUhlYXAgPSBCaW5hcnlIZWFwO1xyXG5cclxuIiwiKGZ1bmN0aW9uICgpIHt2YXIgYT17fTtmdW5jdGlvbiBnKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBjKHQsZSl7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBzPWVbb107cy5lbnVtZXJhYmxlPXMuZW51bWVyYWJsZXx8ITEscy5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gcyYmKHMud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHMua2V5LHMpfX1mdW5jdGlvbiBoKHQsZSxvKXtyZXR1cm4gZSYmYyh0LnByb3RvdHlwZSxlKSxvJiZjKHQsbyksdH12YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxvKXt2YXIgcz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06XCJncmF5XCIsaT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106XCIxNnB4IE1vbm9zcGFjZVwiLHI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06MDtnKHRoaXMsdCksdGhpcy54PXIsdGhpcy55PW4sdGhpcy5jdHg9ZSx0aGlzLmNhbnZhcz1vLHRoaXMuY29sb3I9cyx0aGlzLmZvbnQ9aSx0aGlzLnNldFBvcz10aGlzLnNldFBvcy5iaW5kKHRoaXMpfXJldHVybiBoKHQsW3trZXk6XCJ0cmFja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXSxlPXRoaXMuY2FudmFzO3JldHVybiB0P2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuc2V0UG9zKTplLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLnNldFBvcyksdGhpc319LHtrZXk6XCJzZXRQb3NcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gdGhpcy54PU1hdGguZmxvb3IodC5jbGllbnRYLWUubGVmdCksdGhpcy55PU1hdGguZmxvb3IodC5jbGllbnRZLWUudG9wKSx0aGlzfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMueCxlPXRoaXMueSxvPXRoaXMuY2FudmFzLHM9dGhpcy5jdHgsaT10aGlzLmZvbnQscj10aGlzLmNvbG9yLG49XCJYOiBcIi5jb25jYXQodCxcIiwgWTogXCIpLmNvbmNhdChlKTtzLnNhdmUoKSxzLmZpbGxTdHlsZT1yLHMuZm9udD1pO3ZhciBhPXQ8by53aWR0aC8yPzIwOi1zLm1lYXN1cmVUZXh0KG4pLndpZHRoLTIwLHY9ZTxvLmhlaWdodC8yPzI1Oi0xODtyZXR1cm4gcy5maWxsVGV4dChuLHRoaXMueCthLHRoaXMueSt2KSxzLnJlc3RvcmUoKSx0aGlzfX1dKSx0fSgpO2Z1bmN0aW9uIGQodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGYodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHM9ZVtpXTtzLmVudW1lcmFibGU9cy5lbnVtZXJhYmxlfHwhMSxzLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBzJiYocy53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscy5rZXkscyl9fWZ1bmN0aW9uIGUodCxlLGkpe3JldHVybiBlJiZmKHQucHJvdG90eXBlLGUpLGkmJmYodCxpKSx0fXZhciBiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkscyxyLGwsbil7ZCh0aGlzLHQpLHRoaXMuY29sb3I9ZSx0aGlzLmxpbmVXaWR0aD1pLHRoaXMuc3RhcnRYPXMsdGhpcy5zdGFydFk9cix0aGlzLmVuZFg9bCx0aGlzLmVuZFk9bn1yZXR1cm4gZSh0LFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29sb3IsaT10aGlzLmxpbmVXaWR0aCxzPXRoaXMuc3RhcnRYLHI9dGhpcy5zdGFydFksbD10aGlzLmVuZFgsbj10aGlzLmVuZFk7dC5zYXZlKCksdC5iZWdpblBhdGgoKSx0LnN0cm9rZVN0eWxlPWUsdC5saW5lV2lkdGg9aSx0Lm1vdmVUbyhzLHIpLHQubGluZVRvKGwsbiksdC5zdHJva2UoKSx0LnJlc3RvcmUoKX19XSksdH0oKSxqPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcImdyYXlcIixpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTouMyxzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxMCxyPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTo1LGw9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOlwiRGFya0dyYXlcIixuPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XTouNSxvPWFyZ3VtZW50cy5sZW5ndGg+NiYmdm9pZCAwIT09YXJndW1lbnRzWzZdP2FyZ3VtZW50c1s2XTpcIjE2cHggTW9ub3NwYWNlXCI7ZCh0aGlzLHQpLHRoaXMuY29sb3I9ZSx0aGlzLmxpbmVXaWR0aD1pLHRoaXMuc3RlcD1zLHRoaXMuYm9sZE50aD1yLHRoaXMuYm9sZENvbG9yPWwsdGhpcy5ib2xkV2lkdGg9bix0aGlzLmZvbnQ9byx0aGlzLmxpbmVzPW51bGx9cmV0dXJuIGUodCxbe2tleTpcImNyZWF0ZUxpbmVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuY29sb3IsaT10aGlzLmxpbmVXaWR0aCxzPXRoaXMuc3RlcCxyPXRoaXMuYm9sZE50aCxsPXRoaXMuYm9sZENvbG9yLG49dGhpcy5ib2xkV2lkdGgsbz1bXSxhPXIqcyxoPTA7aDx0LndpZHRoO2grPXMpe3ZhciB2PWglYT09MDtvLnB1c2godj9uZXcgYihsLG4saCwwLGgsdC5oZWlnaHQpOm5ldyBiKGUsaSxoLDAsaCx0LmhlaWdodCkpfWZvcih2YXIgJD0wOyQ8dC5oZWlnaHQ7JCs9cyl7dmFyIGQ9JCVhPT0wO28ucHVzaChkP25ldyBiKGwsbiwwLCQsdC53aWR0aCwkKTpuZXcgYihlLGksMCwkLHQud2lkdGgsJCkpfXRoaXMubGluZXM9b319LHtrZXk6XCJkcmF3VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zdGVwLHM9dGhpcy5ib2xkTnRoLHI9dGhpcy5ib2xkQ29sb3IsbD10aGlzLmZvbnQ7dC5zYXZlKCksdC5mb250PWwsdC5maWxsU3R5bGU9cix0LmZpbGxUZXh0KFwiMFwiLDEsMTUpO2Zvcih2YXIgbj1pKnM7bjxlLndpZHRoO24rPWkqcyl0LmZpbGxUZXh0KG4sbiwxNSk7Zm9yKHZhciBvPWkqcztvPGUuaGVpZ2h0O28rPWkqcyl0LmZpbGxUZXh0KG8sMCxvKzE1KTt0LnJlc3RvcmUoKX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmxpbmVzfHx0aGlzLmNyZWF0ZUxpbmVzKGUpLHRoaXMubGluZXMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5kcmF3KHQpfSksdGhpcy5kcmF3VGV4dCh0LGUpfX1dKSx0fSgpO2EuTW91c2U9aSxhLkdyaWQ9ajtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1hfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KX19KSgpOyIsIi8vIHRvZG86XHJcbi8vICAgbW92ZSBvdXQgc2VyaWFsID8gT3IgbG9vayBmb3IgYSBzZXJpYWwgcmVhZGxpbmUgaW1wbGVtZW50YXRpb24gPz8/XHJcbi8vIGJ1Z3M6XHJcbi8vICAgZGlzY29ubmVjdCAtIEZhaWxlZCB0byBleGVjdXRlICdjbG9zZScgb24gJ1NlcmlhbFBvcnQnOiBDYW5ub3QgY2FuY2VsIGEgbG9ja2VkIHN0cmVhbVxyXG5cclxuaW1wb3J0IHsgUGFkIH0gZnJvbSBcIi4vcGNiXCI7XHJcblxyXG4vKipcclxuICogRGV2aWNlOiBhYnN0cmFjdHMgYWNjZXNzIHRvIG1hY2hpbmUuXHJcbiAqIEl0IFwic2ltcGxpZmllc1wiIHNlcmlhbCBwb3J0IGFjY2Vzcy4gQXQgdGhlIG1vbWVudCBpdCBvbmx5IG9sbG93cyBcIndyaXRlIGFuZCByZXNwb25zZVwiIHN0eWxlIGNvbW11bmljYXRpb24uXHJcbiAqIFRoZSBzZXJpYWwgcG9ydCBpcyBvcGVuZWQsIHRoZW4gYSByZWFkZXIgbG9vcCBpcyBzdGFydGV0LCB3aGljaCBwdXNoZXMgZWFjaCBuZXcgbGluZSBpbnRvIHRoZSBpbnB1dFF1ZXVlLlxyXG4gKiBGdW5jdGlvbiBzZXJpYWxXcml0ZVdhaXQgaXMgdXNlZCB0byBpc3N1ZSBjb21tYW5kcyBhbmQgd2FpdCBmb3IgdGhlIGRldmljZSB0byBha25vd2xlZGdlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBjbGFzcyBEZXZpY2Uge1xyXG4gICAgZGV2aWNlQ2hlY2s6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcclxuICAgIGRldmljZUNvbm5lY3Q6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcclxuICAgIGRldmljZURpc2Nvbm5lY3Q6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcclxuICAgIGRldmljZUlucHV0OiBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbDtcclxuICAgIGRldmljZUlucHV0Rm9ybTogSFRNTEZvcm1FbGVtZW50IHwgbnVsbDtcclxuICAgIGRldmljZUluZm86IEhUTUxEaXZFbGVtZW50IHwgbnVsbDtcclxuICAgIGRldmljZUxvZzogSFRNTERpdkVsZW1lbnQgfCBudWxsO1xyXG4gICAgZGV2aWNlU2VyaWFsOiBIVE1MRGl2RWxlbWVudCB8IG51bGw7XHJcbiAgICBwb3J0czogYW55O1xyXG4gICAgcG9ydDogYW55O1xyXG4gICAgdGV4dERlY29kZXI6IFRleHREZWNvZGVyU3RyZWFtO1xyXG4gICAgcmVhZGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8c3RyaW5nPjtcclxuICAgIGlucHV0TGFzdDogc3RyaW5nID0gJyc7XHJcblxyXG4gICAgcHJvdGVjdGVkIGlucHV0UXVldWU6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5kZXZpY2VDaGVjayA9IDxIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXZpY2VDaGVja1wiKTtcclxuICAgICAgICB0aGlzLmRldmljZUNvbm5lY3QgPSA8SFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGV2aWNlQ29ubmVjdFwiKTtcclxuICAgICAgICB0aGlzLmRldmljZURpc2Nvbm5lY3QgPSA8SFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGV2aWNlRGlzY29ubmVjdFwiKTtcclxuICAgICAgICB0aGlzLmRldmljZUlucHV0ID0gPEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGV2aWNlSW5wdXRcIik7XHJcbiAgICAgICAgdGhpcy5kZXZpY2VJbnB1dEZvcm0gPSA8SFRNTEZvcm1FbGVtZW50IHwgbnVsbD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRldmljZUlucHV0Rm9ybVwiKTtcclxuICAgICAgICB0aGlzLmRldmljZUluZm8gPSA8SFRNTERpdkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGV2aWNlSW5mb1wiKTtcclxuICAgICAgICB0aGlzLmRldmljZUxvZyA9IDxIVE1MRGl2RWxlbWVudCB8IG51bGw+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXZpY2VMb2dcIik7XHJcbiAgICAgICAgdGhpcy5kZXZpY2VTZXJpYWwgPSA8SFRNTERpdkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGV2aWNlU2VyaWFsXCIpO1xyXG4gICAgICAgIHRoaXMucG9ydCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy50ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmRldmljZUNoZWNrICYmIHRoaXMuZGV2aWNlQ29ubmVjdCAmJiB0aGlzLmRldmljZURpc2Nvbm5lY3QgJiYgdGhpcy5kZXZpY2VJbnB1dCAmJiB0aGlzLmRldmljZUlucHV0Rm9ybSkge1xyXG4gICAgICAgICAgICB0aGlzLmRldmljZUNoZWNrLm9uY2xpY2sgPSB0aGlzLnNlcmlhbENoZWNrLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlQ29ubmVjdC5vbmNsaWNrID0gdGhpcy5zZXJpYWxDb25uZWN0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlRGlzY29ubmVjdC5vbmNsaWNrID0gdGhpcy5zZXJpYWxEaXNjb25uZWN0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuZGV2aWNlRG9zb21lLm9uY2xpY2sgPSB0aGlzLnNlcmlhbERvc29tZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLmRldmljZUlucHV0Lm9uY2hhbmdlID0gdGhpcy5zZXJpYWxJbnB1dENoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmRldmljZUlucHV0Rm9ybS5vbnN1Ym1pdCA9IHRoaXMuc2VyaWFsSW5wdXRGb3JtLmJpbmQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VyaWFsQ2hlY2soKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE92ZXJ3cml0ZSEgU2V0IHRoZSBjdXJyZW50IHBvc2l0aW9uIHRvIFplcm8uIEFsbCBmdXJ0aGVyIGNvbW1hbmRzIHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhpcyBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFplcm8/KHBvaW50OltudW1iZXIsbnVtYmVyXSk6IHZvaWQ7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgKiBPdmVyd3JpdGUhIE1vdmUgdG8gcG9zaXRpb24uIElmIG9uZSBjb29yZGluYXRlIGlzIHVuZGVmaW5lZCwgaXQncyBpZ25vcmVkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtb3ZlVG8/KHg6bnVtYmVyfHVuZGVmaW5lZCwgeTpudW1iZXJ8dW5kZWZpbmVkLCB6Om51bWJlcnx1bmRlZmluZWQsIGU6IG51bWJlciB8IHVuZGVmaW5lZCk6IHZvaWRcclxuICAgIHB1YmxpYyBtb3ZlVG9BbGw/KHBsaXN0OiBQYWRbXSwgc3RhcnQ6W251bWJlcixudW1iZXJdKTtcclxuXHJcbiAgICBwdWJsaWMgYmxvYj8oKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE92ZXJ3cml0ZSB0aGlzIGluIGRlcml2ZWQgY2xhc3MgdG8gZ2V0IG5vdGlmaWNhdGlvbiB3aGVuIHNvbWUgZGV2aWNlIHdhcyBjb25uZWN0ZWQuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBvblNlcmlhbENvbm5lY3RlZD8oKTp2b2lkO1xyXG4gICAgLyoqXHJcbiAgICAgKiBPdmVyd3JpdGUgdGhpcyBpbiBkZXJpdmVkIGNsYXNzIHRvIGdldCBub3RpZmljYXRpb24gd2hlbiBzb21lIGRldmljZSB3YXMgZGlzY29ubmVjdGVkLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgb25TZXJpYWxEaXNjb25uZWN0ZWQ/KCk6dm9pZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZW5zIGEgZGlhbG9nIHdoZXJlIHVzZXIgY2FuIHNlbGVjdCBhIGRldmljZSB0byBjb25uZWN0LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgc2VyaWFsQ29ubmVjdCgpIHtcclxuICAgICAgICAvLyBvcGVucyBkaWFsb2cgd2hlcmUgdXNlciBjYW4gc2VsZWN0IGEgZGV2aWNlXHJcbiAgICAgICAgKDxhbnk+bmF2aWdhdG9yKS5zZXJpYWwucmVxdWVzdFBvcnQoKS50aGVuKChwb3J0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXJpYWxDb25uZWN0JywgcG9ydCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyaWFsUG9ydE9wZW4ocG9ydCk7XHJcbiAgICAgICAgfSkuY2F0Y2goKHJlYXNvbikgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ3NlcmlhbENvbm5lY3QnLHJlYXNvbik7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyaWFsRXJyb3IocmVhc29uKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgc2VyaWFsQ29ubmVjdERldmljZSh2aWQ6IG51bWJlciwgcGlkOiBudW1iZXIpIHtcclxuICAgICAgICBmb3IgKGxldCBwb3J0IG9mIHRoaXMucG9ydHMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYHNlcmlhbENvbm5lY3REZXZpY2U6IHNlcmlhbCBhdmFpbGFibGUsIHBvcnRzOiBgLCBwb3J0LmdldEluZm8oKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdXNiUHJvZHVjdElkLCB1c2JWZW5kb3JJZCB9ID0gcG9ydC5nZXRJbmZvKCk7XHJcbiAgICAgICAgICAgIGlmICh1c2JQcm9kdWN0SWQgPT0gcGlkICYmIHVzYlZlbmRvcklkID09IHZpZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXJpYWxQb3J0T3Blbihwb3J0KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGlzY29ubmVjdCBmcm9tIGRldmljZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgc2VyaWFsRGlzY29ubmVjdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wb3J0KSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIGRvZXMnbnQgZG8gaXQgOihcclxuICAgICAgICAgICAgdGhpcy5wb3J0LmNsb3NlKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BvcnQgY2xvc2VkJyk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogIFdhaXQgdW50aWwgc29tZSByZXNwb25zZSBvciB0aW1lb3V0LCByZXR1cm5zIHJlc3BvbnNlIG9yICd0aW1lb3V0JyBvciBtaWdodCBmYWlsIHdpdGggJ2J1c3knIG9yICdkaXNjb25uZWN0ZWQnXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhc3luYyBzZXJpYWxXcml0ZVdhaXQodmFsdWU6IHN0cmluZywgdGltZW91dDogbnVtYmVyID0gMTAwMDApOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIC8vIGNsZWFuIHNlcmlhbCBpbnB1dFxyXG4gICAgICAgIHRoaXMuaW5wdXRRdWV1ZSA9IFtdO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucG9ydCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcmlhbFdyaXRlKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3YWl0IHVudGlsIHNvbWUgcmVzcG9uc2Ugb3IgdGltZW91dFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhdmFpbGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RlcCA9IDEwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXh0aW1lID0gdGltZW91dDtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIWF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGUgPSBhd2FpdCB0aGlzLnNlcmlhbEF2YWlsKHRpbWVzdGVwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4dGltZSA9IG1heHRpbWUgLSB0aW1lc3RlcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heHRpbWUgPD0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgc2VyaWFsV3JpdGVXYWl0IGF2YWlsOiR7YXZhaWxhYmxlfSB0aW1lOiR7dGltZW91dCAtIG1heHRpbWV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHNlcmlhbFdyaXRlV2FpdCBjaGVjazogJHt0aGlzLmlucHV0UXVldWUubGVuZ3RofWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0UXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnAgPSA8c3RyaW5nPnRoaXMuaW5wdXRRdWV1ZS5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHNlcmlhbFdyaXRlV2FpdCByZXNvbHZlOiAke2lucH1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbnApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBzZXJpYWxXcml0ZVdhaXQgcmVqZWN0OiBgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCd0aW1lb3V0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdidXN5Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLndhcm4odGhpcy5wb3J0KTtcclxuICAgICAgICAgICAgICAgIHJlamVjdCgnZGlzY29ubmVjdGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIHdyaXRlIGFueXRoaW5nIHRvIHRoZSBkZXZpY2UuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNlcmlhbElucHV0Rm9ybShldmVudDogSW5wdXRFdmVudCkgeyAvLyBmaXJlcyB3aGVuIHJldHVybiBpcyBlbnRlcmVkXHJcbiAgICAgICAgaWYgKHRoaXMuZGV2aWNlSW5wdXQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gZm9ybSB3aWxsIGRvIHN0cmFuZ2UgdGhpbmdzICFcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLnNlcmlhbElucHV0Q2hhbmdlKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gd3JpdGUgYW55dGhpbmcgdG8gdGhlIGRldmljZS5cclxuICAgICAqIEBwYXJhbSBldmVudFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgc2VyaWFsSW5wdXRDaGFuZ2UoZXZlbnQ6IElucHV0RXZlbnQpIHsgLy8gZmlyZXMgd2hlbiByZXR1cm4gaXMgZW50ZXJlZFxyXG4gICAgICAgIGlmICh0aGlzLmRldmljZUlucHV0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvcnQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gdGhpcy5kZXZpY2VJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcmlhbFdyaXRlKHRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdzZXJpYWxJbnB1dENoYW5nZSAtIG5vIHBvcnQgb3BlbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qICoqKioqKioqKioqKioqKioqIHByaXZhdGUgc3R1ZmYgKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgc2VyaWFsQ2hlY2soKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChcInNlcmlhbFwiIGluIG5hdmlnYXRvcikge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvcnRzKCk7XHJcbiAgICAgICAgICAgICg8YW55Pm5hdmlnYXRvcikuc2VyaWFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjb25uZWN0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogQXV0b21hdGljYWxseSBvcGVuIGV2ZW50LnRhcmdldCBvciB3YXJuIHVzZXIgYSBwb3J0IGlzIGF2YWlsYWJsZS5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXJpYWxDaGVjazpjb25uZWN0JywgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb3J0cygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgKDxhbnk+bmF2aWdhdG9yKS5zZXJpYWwuYWRkRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgfGV2ZW50LnRhcmdldHwgZnJvbSB0aGUgVUkuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2VyaWFsIHBvcnQgd2FzIG9wZW5lZCwgYSBzdHJlYW0gZXJyb3Igd291bGQgYmUgb2JzZXJ2ZWQgYXMgd2VsbC5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXJpYWxDaGVjazpkaXNjb25uZWN0JywgZXZlbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ05vIHNlcmlhbCBBUEkgYXZhaWxhYmxlLCB0cnkgYW5vdGhlciBicm93c2VyJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyaWFsRXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgc2VyaWFsIHBvcnQuIENvbm5lY3Rpb24gdG8gZGV2aWNlIGltcG9zc2libGUhIFVzZSBDaHJvbWUhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlUG9ydHMoKSB7XHJcbiAgICAgICAgLy8gbGlzdHMgYWxsIHJlY2VudGx5IHVzZWQgcG9ydHMsIGNvdWxkIGp1c3Qgb3BlbiBvbmUgdGhlbi5cclxuICAgICAgICAoPGFueT5uYXZpZ2F0b3IpLnNlcmlhbC5nZXRQb3J0cygpLnRoZW4oKHBvcnRzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1cGRhdGVQb3J0czonLCBwb3J0cyk7XHJcbiAgICAgICAgICAgIHRoaXMucG9ydHMgPSBwb3J0cztcclxuICAgICAgICAgICAgbGV0IGh0bWwgPSAnJzsvL2RldmljZXM6PGJyPic7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHBvcnQgb2YgcG9ydHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBzZXJpYWwgYXZhaWxhYmxlLCBwb3J0czogYCwgcG9ydC5nZXRJbmZvKCkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB1c2JQcm9kdWN0SWQsIHVzYlZlbmRvcklkIH0gPSBwb3J0LmdldEluZm8oKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGB1cGRhdGVQb3J0cyBwb3J0IHBpZDoke3VzYlByb2R1Y3RJZH0gdmlkOiR7dXNiVmVuZG9ySWR9YCk7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwidzMtY29udGFpbmVyXCI+PGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1taWNyb2NoaXBcIj48L2k+IHBpZDoke3VzYlByb2R1Y3RJZH0gdmlkOiR7dXNiVmVuZG9ySWR9IDxidXR0b24gY2xhc3M9XCJ3My1idG4gdzMtcm91bmQgdzMtbGlnaHQtZ3JleSB3My10aW55XCIgaWQ9XCIke3VzYlZlbmRvcklkfS0ke3VzYlByb2R1Y3RJZH1cIj48aSBjbGFzcz1cImZhIGZhLXBsdWdcIj48L2k+IGNvbm5lY3QgPC9idXR0b24+PC9kaXY+YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5kZXZpY2VJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRldmljZUluZm8uaW5uZXJIVE1MID0gaHRtbDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJ0bnMgPSB0aGlzLmRldmljZUluZm8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBidG4gb2YgYnRucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5vbmNsaWNrID0gKCkgPT4geyBjb25zdCBpZHMgPSBidG4uaWQuc3BsaXQoJy0nKTsgY29uc29sZS5sb2coaWRzKTsgdGhpcy5zZXJpYWxDb25uZWN0RGV2aWNlKHBhcnNlSW50KGlkc1swXSksIHBhcnNlSW50KGlkc1sxXSkpIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZGV2aWNlQ29ubmVjdCAmJiAodGhpcy5wb3J0cyA9PSBudWxsIHx8IHRoaXMucG9ydHMubGVuZ3RoID09IDApKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndXBkYXRlUG9ydHM6IG9wZW4gZGV2IGJ1dHRvbnMhISEnLCB0aGlzLmRldmljZUNvbm5lY3QuY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGV2aWNlQ29ubmVjdC5jbGFzc05hbWUgPSB0aGlzLmRldmljZUNvbm5lY3QuY2xhc3NOYW1lLnJlcGxhY2UoJ3czLWhpZGUnLCAndzMtc2hvdycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPcGVucyBhIGdpdnZlbiBwb3J0LiBDYW4gYmUgdXNlZCBhZnRlciBxdWVyaWluZyBwb3J0cyB3aXRoIHVwZGF0ZVBvcnRzLlxyXG4gICAgICogQHBhcmFtIHBvcnRcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXJpYWxQb3J0T3Blbihwb3J0OiBhbnkpIHtcclxuICAgICAgICBwb3J0Lm9uY29ubmVjdCA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYENPTk5FQ1RFRGApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9ydC5vbmRpc2Nvbm5lY3QgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBESVNDT05ORUNURURgKTtcclxuICAgICAgICAgICAgaWYodGhpcy5vblNlcmlhbERpc2Nvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblNlcmlhbERpc2Nvbm5lY3RlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3J0Lm9wZW4oeyBiYXVkUmF0ZTogMjUwMDAwIH0pLnRoZW4oKHZhbCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBvcnQgPSBwb3J0O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kZXZpY2VMb2cpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGV2aWNlTG9nLmlubmVySFRNTCA9IFwiY29ubmVjdGVkPGJyPlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwb3J0IG9wZW5lZCA/ICcsIHRoaXMucG9ydCk7XHJcbiAgICAgICAgICAgIGlmKHRoaXMub25TZXJpYWxDb25uZWN0ZWQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblNlcmlhbENvbm5lY3RlZCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuc2VyaWFsUmVhZC5iaW5kKHRoaXMpLCAwKTsgLy8gc3RhcnQgcmVhZCBsb29wXHJcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyaWFsRXJyb3IoZXJyb3IudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHNlcmlhbEVycm9yKGVycm9yOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ3NlcmlhbEVycm9yJywgZXJyb3IpO1xyXG4gICAgICAgIGlmICh0aGlzLmRldmljZUxvZykge1xyXG4gICAgICAgICAgICB0aGlzLmRldmljZUxvZy5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9XCJ3My1yZWRcIj4ke2Vycm9yfTwvc3Bhbj48YnI+YFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsLCBzdGFydHMgdGhlIHJlYWQgbGluZSBsb29wLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIHNlcmlhbFJlYWQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucG9ydCkge1xyXG4gICAgICAgICAgICBjb25zdCByZWFkYWJsZVN0cmVhbUNsb3NlZCA9IHRoaXMucG9ydC5yZWFkYWJsZS5waXBlVG8odGhpcy50ZXh0RGVjb2Rlci53cml0YWJsZSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVhZGVyID0gdGhpcy50ZXh0RGVjb2Rlci5yZWFkYWJsZS5nZXRSZWFkZXIoKTtcclxuICAgICAgICAgICAgLy8gTGlzdGVuIHRvIGRhdGEgY29taW5nIGZyb20gdGhlIHNlcmlhbCBkZXZpY2UuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5zZXJpYWxSZWFkb24uYmluZCh0aGlzKSwgMSk7IC8vIHdpbGwgbG9vcCB0aGVyZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsLCBoYW5kbGVzIHRoZSByZWFkIGxpbmUgbG9vcC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBzZXJpYWxSZWFkb24oKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgdGhpcy5yZWFkZXIucmVhZCgpO1xyXG4gICAgICAgICAgICBpZiAoZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQWxsb3cgdGhlIHNlcmlhbCBwb3J0IHRvIGJlIGNsb3NlZCBsYXRlci4gLy8gRG9lcyBub3QgaGFwcGVuICFcclxuICAgICAgICAgICAgICAgIHRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2VyaWFsUmVhZCAtIGRvbmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBwdXNoZWRTdHVmZiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgLy8gdmFsdWUgaXMgYSBzdHJpbmcuXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaW5kZXhPZignXFxuJykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSB2YWx1ZS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codmFsdWVzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Fzc2VydGlvbiBmYWlsZWQgJywgdmFsdWVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9OyAvLyB0aGVyZSBpcyBhIFxcbiBpbiBpdCAhXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRMYXN0ICs9IHZhbHVlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFF1ZXVlLnB1c2godGhpcy5pbnB1dExhc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcmlhbExvZyh0aGlzLmlucHV0TGFzdCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRMYXN0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hlZFN0dWZmID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dExhc3QgPSB2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBzZXJpYWxSZWFkb24gbGFzdDogXCIke3RoaXMuaW5wdXRMYXN0fVwiYCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIFxcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRMYXN0ICs9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBzZXJpYWxSZWFkb24gbGFzdDogXCIke3RoaXMuaW5wdXRMYXN0fVwiYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHB1c2hlZFN0dWZmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLnNlcmlhbENhbGxiYWNrLmJpbmQodGhpcyksIDUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLnNlcmlhbFJlYWRvbi5iaW5kKHRoaXMpLCAxKTsgLy8gd2lsbCBsb29wIHRoZXJlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnNlcmlhbEVycm9yKGVycm9yLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlcmlhbENhbGxiYWNrKCkge1xyXG4gICAgICAgIC8vIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGV2aWNlTG9nJyk7XHJcbiAgICAgICAgLy8gaWYgKGVsZW0pIHtcclxuICAgICAgICAvLyAgICAgbGV0IGxhdGVzdCA9IHRoaXMuaW5wdXRRdWV1ZS5wb3AoKTtcclxuICAgICAgICAvLyAgICAgd2hpbGUgKGxhdGVzdCkge1xyXG4gICAgICAgIC8vICAgICAgICAgZWxlbS5pbm5lckhUTUwgKz0gYCR7bGF0ZXN0fTxicj5gO1xyXG4gICAgICAgIC8vICAgICAgICAgbGF0ZXN0ID0gdGhpcy5pbnB1dFF1ZXVlLnBvcCgpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgc2VyaWFsV3JpdGUodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuc2VyaWFsTG9nKHZhbHVlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIHdyaXRlLi4uXHJcbiAgICAgICAgbGV0IHV0ZjhFbmNvZGUgPSBuZXcgVGV4dEVuY29kZXIoKTtcclxuICAgICAgICBjb25zdCB3cml0ZXIgPSB0aGlzLnBvcnQud3JpdGFibGUuZ2V0V3JpdGVyKCk7XHJcbiAgICAgICAgYXdhaXQgd3JpdGVyLndyaXRlKHV0ZjhFbmNvZGUuZW5jb2RlKGAke3ZhbHVlfVxcbmApKTtcclxuICAgICAgICB3cml0ZXIucmVsZWFzZUxvY2soKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFdhaXRzIHVudGlsIGRhdGEgd2FzIHJlYWQgb3IgdGltZW91dFxyXG4gICAgICogQHBhcmFtIHRpbWVvdXRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2VyaWFsQXZhaWwodGltZW91dDogbnVtYmVyID0gMTApOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Ym9vbGVhbj4oKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2VyaWFsTG9nKHRleHQ6IHN0cmluZywgaW5jb21taW5nOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGV2aWNlU2VyaWFsKSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmRldmljZVNlcmlhbC5jaGlsZEVsZW1lbnRDb3VudCA+IDIwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2ggPSB0aGlzLmRldmljZVNlcmlhbC5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXZpY2VTZXJpYWwucmVtb3ZlQ2hpbGQoY2gpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbmNvbW1pbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGV2aWNlU2VyaWFsLmlubmVySFRNTCArPSBgPGRpdj48aSBjbGFzcz1cImZhLXNvbGlkIGZhLWFycm93LXJpZ2h0LXRvLWJyYWNrZXRcIj48L2k+ICR7dGV4dH08L2Rpdj5gXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRldmljZVNlcmlhbC5pbm5lckhUTUwgKz0gYDxkaXY+PGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1hcnJvdy11cC1yaWdodC1mcm9tLXNxdWFyZVwiPjwvaT4gJHt0ZXh0fTwvZGl2PmA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2xvYmFsVGhpcy5yZXNpemUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtrZFRyZWUsIGtkVHJlZU9iamVjdH0gZnJvbSAnLi9rZFRyZWUnO1xyXG5cclxuY2xhc3MgQm91bmRpbmdCb3gge1xyXG4gICAgbWlueDogbnVtYmVyID0gOTk5OTk7XHJcbiAgICBtaW55OiBudW1iZXIgPSA5OTk5OTtcclxuICAgIG1heHg6IG51bWJlciA9IC05OTk5OTtcclxuICAgIG1heHk6IG51bWJlciA9IC05OTk5OTtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyB9XHJcbiAgICB1cGRhdGVGcm9tUGFkKHBhZDpQYWQpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZShwYWQucG9zWCwgcGFkLnBvc1kpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHggPCB0aGlzLm1pbngpIHRoaXMubWlueCA9IHg7XHJcbiAgICAgICAgaWYgKHkgPCB0aGlzLm1pbnkpIHRoaXMubWlueSA9IHk7XHJcbiAgICAgICAgaWYgKHggPiB0aGlzLm1heHgpIHRoaXMubWF4eCA9IHg7XHJcbiAgICAgICAgaWYgKHkgPiB0aGlzLm1heHkpIHRoaXMubWF4eSA9IHk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYGJiOiAke3RoaXMubWlueX0gJHt0aGlzLm1heHl9ICR7dGhpcy5jZW50ZXIoKVsxXX1gKTtcclxuICAgIH1cclxuICAgIGNlbnRlcih6b29tOiBudW1iZXIgPSAxLjApOiBbeDogbnVtYmVyLCB5OiBudW1iZXJdIHtcclxuICAgICAgICByZXR1cm4gWyh0aGlzLm1pbnggKyAodGhpcy5tYXh4IC0gdGhpcy5taW54KSAvIDIpICogem9vbSwgKHRoaXMubWlueSArICh0aGlzLm1heHkgLSB0aGlzLm1pbnkpIC8gMikgKiB6b29tXTtcclxuICAgIH1cclxuICAgIHplcm8oem9vbTogbnVtYmVyID0gMS4wKTogW3g6IG51bWJlciwgeTogbnVtYmVyXSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzLm1pbnggKiB6b29tLCB0aGlzLm1pbnkgKiB6b29tXTtcclxuICAgIH1cclxuICAgIHNpemUoem9vbTogbnVtYmVyID0gMS4wKTogW3g6IG51bWJlciwgeTogbnVtYmVyXSB7XHJcbiAgICAgICAgcmV0dXJuIFsodGhpcy5tYXh4IC0gdGhpcy5taW54KSAqIHpvb20sICh0aGlzLm1heHkgLSB0aGlzLm1pbnkpICogem9vbV07XHJcbiAgICB9XHJcbiAgICBkaWFnb25hbCh6b29tOiBudW1iZXIgPSAxLjApOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnNpemUoem9vbSk7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChzaXplWzBdKnNpemVbMF0gKyBzaXplWzFdKnNpemVbMV0pO1xyXG4gICAgfVxyXG4gICAgLyoqIENoZWNrIGlmIHBhZCBpcyBpbnNpZGUgdGhlIGJvdW5kaW5nYm94ICovXHJcbiAgICBpbnNpZGUocGFkOiBQYWQpOmJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAocGFkLnBvc1ggPj0gdGhpcy5taW54ICYmIHBhZC5wb3NYIDw9IHRoaXMubWF4eCkgJiYgKHBhZC5wb3NZID49IHRoaXMubWlueSAmJiBwYWQucG9zWSA8PSB0aGlzLm1heHkpXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQYWRTdHlsZSB7XHJcbiAgICBwdWJsaWMgZm9ybTogc3RyaW5nO1xyXG4gICAgcHVibGljIHdpZHRoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3Rvcihmb3JtOiBzdHJpbmcsIHc6IG51bWJlciwgaDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5mb3JtID0gZm9ybTtcclxuICAgICAgICB0aGlzLndpZHRoID0gdztcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGg7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQYWQge1xyXG4gICAgcG9zWDogbnVtYmVyO1xyXG4gICAgcG9zWTogbnVtYmVyO1xyXG4gICAgc3R5bGU6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHN0eWxlOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wb3NYID0geDtcclxuICAgICAgICB0aGlzLnBvc1kgPSB5O1xyXG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcclxuICAgIH1cclxuICAgIGFzVHVwbGUoKTpbbnVtYmVyLG51bWJlcl0ge1xyXG4gICAgICAgIHJldHVybiBbdGhpcy5wb3NYLCB0aGlzLnBvc1ldO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUENCIGV4dGVuZHMga2RUcmVlT2JqZWN0IHtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIG1hcFN0eWxlczogTWFwPHN0cmluZywgUGFkU3R5bGU+O1xyXG4gICAgbWFwUGFkczogTWFwPHN0cmluZywgU2V0PFBhZD4+O1xyXG4gICAgZmlsZU5hbWU6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgbW91c2VGbGFnOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBtb3VzZVN0YXJ0WDogbnVtYmVyID0gMDtcclxuICAgIG1vdXNlU3RhcnRZOiBudW1iZXIgPSAwO1xyXG4gICAgbW91c2VPZmZYOiBudW1iZXIgPSAwO1xyXG4gICAgbW91c2VPZmZZOiBudW1iZXIgPSAwO1xyXG4gICAgbW91c2VTZWxlY3Q6IGJvb2xlYW47XHJcbiAgICBtb3VzZVNlbGVjdFg6IG51bWJlcjtcclxuICAgIG1vdXNlU2VsZWN0WTogbnVtYmVyO1xyXG5cclxuICAgIHBvc1plcm86IG51bWJlcltdO1xyXG5cclxuICAgIHpvb206IG51bWJlciA9IDUuMDtcclxuICAgIGJiUGNiOiBCb3VuZGluZ0JveDtcclxuICAgIGJiU2VsZWN0aW9uOiBCb3VuZGluZ0JveDtcclxuICAgIGJiWmVybzogQm91bmRpbmdCb3g7IC8vIHVzZSBjZW50ZXIgYXMgemVyb1xyXG5cclxuICAgIHRyZWU6IGtkVHJlZTxQYWQ+O1xyXG4gICAgbmVhcmVzdDpbUGFkLCBudW1iZXJdW10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMubWFwU3R5bGVzID0gbmV3IE1hcDxzdHJpbmcsIFBhZFN0eWxlPigpO1xyXG4gICAgICAgIHRoaXMubWFwUGFkcyA9IG5ldyBNYXA8c3RyaW5nLCBTZXQ8UGFkPj4oKTtcclxuICAgICAgICB0aGlzLmJiUGNiID0gbmV3IEJvdW5kaW5nQm94KCk7XHJcbiAgICAgICAgdGhpcy5iYlplcm8gPSBuZXcgQm91bmRpbmdCb3goKTtcclxuICAgICAgICB0aGlzLmJiU2VsZWN0aW9uID0gbmV3IEJvdW5kaW5nQm94KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q2FudmFzKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBaZXJvIHBvc2l0aW9uIHRvIHRoZSBsb3dlciBsZWZ0IG9mIHNlbGVjdGlvbiByZWN0YW5nbGUuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRaZXJvKCk6dm9pZCB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHVzZSBsYXN0IHNlbGVjdGlvbiA/Pz9cclxuICAgICAgICB0aGlzLmJiWmVybyA9IHRoaXMuYmJTZWxlY3Rpb247XHJcbiAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgUGNiOnNldFplcm86ICR7dGhpcy5iYlplcm8uemVybygpfWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMgWmVybyBwb3NpdGlvbiByZWxhdGl2ZSB0byBPcmlnaW4oMCwwKS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFplcm8oKTpbbnVtYmVyLG51bWJlcl0ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJiWmVyby56ZXJvKCk7IC8vIGxvd2VyIGxlZnQgPz8gYmV0dGVyIHdoZW4gLmNlbnRlcigpID8/XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyBBbGwgUGFkcyBpbiBzZWxlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRTZWxlY3RlZCgpOlBhZFtdIHtcclxuICAgICAgICBsZXQgcmVzdWx0OlBhZFtdID0gW107XHJcbiAgICAgICAgZm9yKGxldCBuZWFyIG9mIHRoaXMubmVhcmVzdCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZWFyKTtcclxuICAgICAgICAgICAgaWYobmVhci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZWFyWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMgTG93ZXIgbGVmdCBvZiBzZWxlY3Rpb24gYXMgdHVwbGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFNlbGVjdGVkWmVybygpOltudW1iZXIsbnVtYmVyXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmJTZWxlY3Rpb24uemVybygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQYWRDb3VudCgpOm51bWJlciB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBwYWRzZXQgb2YgdGhpcy5tYXBQYWRzKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBwYWRzZXRbMV0uc2l6ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgem9vbVRvRml0KHNpemU6W251bWJlcixudW1iZXJdKSB7XHJcbiAgICAgICAgbGV0IHBzaXplID0gdGhpcy5iYlBjYi5zaXplKCk7XHJcbiAgICAgICAgbGV0IHp3ID0gc2l6ZVswXSAvIHBzaXplWzBdO1xyXG4gICAgICAgIGxldCB6aCA9IHNpemVbMV0gLyBwc2l6ZVsxXTtcclxuICAgICAgICB0aGlzLnpvb20gPSAoKHp3ID4gemgpPyB6aCA6IHp3KSAqIC45O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBQY2I6em9vbVRvRml0IHpvb20gJHt0aGlzLnpvb219YCwgcHNpemUpO1xyXG4gICAgICAgIHRoaXMuY2VudGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNlbnRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5jYW52YXMpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZU9mZlggPSAtKHRoaXMuYmJQY2IuY2VudGVyKClbMF0gKiB0aGlzLnpvb20pICsgdGhpcy5jYW52YXMud2lkdGggLyAyO1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlT2ZmWSA9IC0odGhpcy5iYlBjYi5jZW50ZXIoKVsxXSAqIHRoaXMuem9vbSkgKyB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgYWRkUGFkU3R5bGUobmFtZTogc3RyaW5nLCBmb3JtOiBzdHJpbmcsIHc6IG51bWJlciwgaDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5tYXBTdHlsZXMuc2V0KG5hbWUsIG5ldyBQYWRTdHlsZShmb3JtLCB3LCBoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUGFkKHN0eWxlOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hcFBhZHMuaGFzKHN0eWxlKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcFBhZHMuc2V0KHN0eWxlLCBuZXcgU2V0PFBhZD4oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwYWRzZXQgPSB0aGlzLm1hcFBhZHMuZ2V0KHN0eWxlKTtcclxuICAgICAgICBpZiAocGFkc2V0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld3BhZCA9IG5ldyBQYWQoc3R5bGUsIHgsIHkpO1xyXG4gICAgICAgICAgICBwYWRzZXQuYWRkKG5ld3BhZCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmJQY2IudXBkYXRlKHgsIHkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXRyZWUoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHBhZHMgOiBQYWRbXSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBwYWRzZXRzIG9mIHRoaXMubWFwUGFkcy52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcGFkIG9mIHBhZHNldHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWRzLnB1c2gocGFkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy50cmVlID0gbmV3IGtkVHJlZShQQ0IsIHBhZHMsIFBDQi5kaXN0YW5jZSwgW1wicG9zWFwiLCBcInBvc1lcIl0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndHJlZSBiZjonLCB0aGlzLnRyZWUuYmFsYW5jZUZhY3RvcigpKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaChlcnIpIHsgY29uc29sZS5lcnJvcihlcnIpOyB9XHJcbiAgICB9XHJcblxyXG4gICAgbW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5ldmVudC5idXR0b25zXHJcbiAgICAgICAgY29uc3QgdHJhbnMgPSB0aGlzLmN0eC5nZXRUcmFuc2Zvcm0oKTtcclxuICAgICAgICBpZihldmVudC5idXR0b24gPT0gMCkgeyAvLyBzdGFydCBzZWxlY3RcclxuICAgICAgICAgICAgY29uc3QgbXggPSAoZXZlbnQuY2xpZW50WCAqIHRyYW5zLmEgLSB0aGlzLm1vdXNlT2ZmWCkgLyB0aGlzLnpvb207XHJcbiAgICAgICAgICAgIGNvbnN0IG15ID0gKHRoaXMuY2FudmFzLmhlaWdodC0oZXZlbnQuY2xpZW50WSAtIHRoaXMuY2FudmFzLm9mZnNldFRvcCkgLSB0aGlzLm1vdXNlT2ZmWSkgLyB0aGlzLnpvb207XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VTdGFydFggPSBteDtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVN0YXJ0WSA9IG15O1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlU2VsZWN0WCA9IG14O1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlU2VsZWN0WSA9IG15O1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlU2VsZWN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFBjYjptb3VzZURvd246IHg6JHt0aGlzLm1vdXNlU3RhcnRYfSB5OiR7dGhpcy5tb3VzZVN0YXJ0WX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZXZlbnQuYnV0dG9uICE9IDApIHsgLy8gcGFuIGFyb3VuZFxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlU3RhcnRYID0gZXZlbnQuY2xpZW50WCAqIHRyYW5zLmEgLSB0aGlzLm1vdXNlT2ZmWDtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVN0YXJ0WSA9IGV2ZW50LmNsaWVudFkgKiB0cmFucy5kIC0gdGhpcy5tb3VzZU9mZlk7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VGbGFnID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBtb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgdHJhbnMgPSB0aGlzLmN0eC5nZXRUcmFuc2Zvcm0oKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygncGNiOm1vdXNlVXAgZXZlbnQ6JywgZXZlbnQpO1xyXG4gICAgICAgIGlmKGV2ZW50LmJ1dHRvbiAhPSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGV2ZW50LmJ1dHRvbiA9PSAwKSB7IC8vIHNlbGVjdFxyXG4gICAgICAgICAgICB0aGlzLm1vdXNlU2VsZWN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRyYW5zLCBldmVudCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCcnLCB0aGlzLmNhbnZhcy5oZWlnaHQtKGV2ZW50LmNsaWVudFktdGhpcy5jYW52YXMub2Zmc2V0VG9wKSwgdGhpcy5tb3VzZU9mZlkpO1xyXG4gICAgICAgICAgICBjb25zdCBteCA9IChldmVudC5jbGllbnRYICogdHJhbnMuYSAtIHRoaXMubW91c2VPZmZYKSAvIHRoaXMuem9vbTtcclxuICAgICAgICAgICAgY29uc3QgbXkgPSAodGhpcy5jYW52YXMuaGVpZ2h0LShldmVudC5jbGllbnRZIC0gdGhpcy5jYW52YXMub2Zmc2V0VG9wKSAtIHRoaXMubW91c2VPZmZZKSAvIHRoaXMuem9vbTtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVNlbGVjdFggPSBteDtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZVNlbGVjdFkgPSBteTtcclxuXHJcbiAgICAgICAgICAgIC8vIGJiID0gc2VsZWN0ZWQgcmVjdGFuZ2xlXHJcbiAgICAgICAgICAgIHRoaXMuYmJTZWxlY3Rpb24gPSBuZXcgQm91bmRpbmdCb3goKTtcclxuICAgICAgICAgICAgdGhpcy5iYlNlbGVjdGlvbi51cGRhdGUodGhpcy5tb3VzZVN0YXJ0WCwgdGhpcy5tb3VzZVN0YXJ0WSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmJTZWxlY3Rpb24udXBkYXRlKHRoaXMubW91c2VTZWxlY3RYLCB0aGlzLm1vdXNlU2VsZWN0WSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgcGFkID0gbmV3IFBhZCgnJywgdGhpcy5iYlNlbGVjdGlvbi5jZW50ZXIoKVswXSwgdGhpcy5iYlNlbGVjdGlvbi5jZW50ZXIoKVsxXSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBQY2I6bW91c2VVcCBjeDoke3BhZC5wb3NYfSBjeToke3BhZC5wb3NZfSBkaWFnb25hbDoke3RoaXMuYmJTZWxlY3Rpb24uZGlhZ29uYWwoKX1gKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMudHJlZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kOltQYWQsIG51bWJlcl1bXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpc3QgPSB0aGlzLmJiU2VsZWN0aW9uLmRpYWdvbmFsKCk7XHJcbiAgICAgICAgICAgICAgICBpZihkaXN0IDwgMC4xKSB7IC8vIG5vIGRyYWcgLSBvbmx5IG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdGhpcy50cmVlLm5lYXJlc3QocGFkLCAxLCBkaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5lYXJlc3QgPSBmb3VuZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzdCA9IChkaXN0LzIpICogKGRpc3QvMik7IC8vIHNlYXJjaCByZXF1aXJlIHNxdWFyZSBkaXN0YW5jZSA/XHJcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0aGlzLnRyZWUubmVhcmVzdChwYWQsIHRoaXMuZ2V0UGFkQ291bnQoKSwgZGlzdCk7IC8vIHV1dWhoaCB1c2UgcGFkIGNvdW50ICE/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmVhcmVzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IoY29uc3QgbmVhciBvZiBmb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgbToke214fSwke215fSBuZWFyZXN0OiR7bmVhclswXS5wb3NYfSwke25lYXJbMF0ucG9zWX0gIGRpc3Q6JHtNYXRoLnNxcnQobmVhclsxXSl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLyB1dXVoaGggY2hlY2sgaWYgaW5zaWRlIHRoZSBib3hcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5iYlNlbGVjdGlvbi5pbnNpZGUobmVhclswXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmVhcmVzdC5wdXNoKG5lYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIG5lZWQgYSBiYiBmb3IgYWN0dWFsIHNlbGVjdGVkIHBvaW50cyB0byBnZXQgemVybyByaWdodFxyXG4gICAgICAgICAgICAgICAgbGV0IGJiTmV3U2VsZWN0aW9uID0gbmV3IEJvdW5kaW5nQm94KCk7XHJcbiAgICAgICAgICAgICAgICBmb3IoY29uc3QgbmVhciBvZiB0aGlzLm5lYXJlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBiYk5ld1NlbGVjdGlvbi51cGRhdGVGcm9tUGFkKG5lYXJbMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYlNlbGVjdGlvbiA9IGJiTmV3U2VsZWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQY2I6bW91c2VVcCBzZWxlY3Rpb24gZm91bmQgIyR7Zm91bmQubGVuZ3RofWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbW91c2VNb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgLy8gb29vaGhoIGRvIG5vdCB0cnVzdCBldmVudC5idXR0b24sIGl0J3MgYWx3YXlzIDAgaGVyZSAhXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3BjYjptb3VzZU1vdmUnLGV2ZW50KTtcclxuICAgICAgICBjb25zdCB0cmFucyA9IHRoaXMuY3R4LmdldFRyYW5zZm9ybSgpO1xyXG4gICAgICAgIGlmKHRoaXMubW91c2VGbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VPZmZYID0gZXZlbnQuY2xpZW50WCAqIHRyYW5zLmEgLSB0aGlzLm1vdXNlU3RhcnRYO1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlT2ZmWSA9IGV2ZW50LmNsaWVudFkgKiB0cmFucy5kIC0gdGhpcy5tb3VzZVN0YXJ0WTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5tb3VzZVNlbGVjdCApIHtcclxuICAgICAgICAgICAgY29uc3QgbXggPSAoZXZlbnQuY2xpZW50WCAqIHRyYW5zLmEgLSB0aGlzLm1vdXNlT2ZmWCkgLyB0aGlzLnpvb207XHJcbiAgICAgICAgICAgIGNvbnN0IG15ID0gKHRoaXMuY2FudmFzLmhlaWdodC0oZXZlbnQuY2xpZW50WSAtIHRoaXMuY2FudmFzLm9mZnNldFRvcCkgLSB0aGlzLm1vdXNlT2ZmWSkgLyB0aGlzLnpvb207XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VTZWxlY3RYID0gbXg7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2VTZWxlY3RZID0gbXk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbW91c2VXaGVlbChldmVudDogV2hlZWxFdmVudCkge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zID0gdGhpcy5jdHguZ2V0VHJhbnNmb3JtKCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQuZGVsdGFZKTtcclxuICAgICAgICBpZiAoZXZlbnQuZGVsdGFZID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnpvb20gKj0gMS4xO1xyXG4gICAgICAgICAgICAvLyB0aGlzLm1vdXNlT2ZmWCAqPSAwLjk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMubW91c2VPZmZZICo9IDAuOTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnpvb20gKj0gMC45O1xyXG4gICAgICAgICAgICAvLyB0aGlzLm1vdXNlT2ZmWCAqPSAxLjE7XHJcbiAgICAgICAgICAgIC8vIHRoaXMubW91c2VPZmZZICo9IDEuMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBtb3VzZU91dChldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkaXN0YW5jZShhOlBhZCwgYjpQYWQpIHtcclxuICAgICAgICByZXR1cm4gKGEucG9zWCAtIGIucG9zWCkqKGEucG9zWCAtIGIucG9zWCkgKyAgKGEucG9zWSAtIGIucG9zWSkqKGEucG9zWSAtIGIucG9zWSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKSB7XHJcbiAgICAgICAgLy8gdGhlb3JldGlzY2ggc28uLi5cclxuICAgICAgICAvLyB0aGlzLmN0eC5maWxsU3R5bGUgPSAnb3JhbmdlcmVkJztcclxuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnYW50aXF1ZXdoaXRlJztcclxuXHJcbiAgICAgICAgLy8gZHJhdyBiYiBjZW50ZXJcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICdyZWQnO1xyXG4gICAgICAgIGxldCBjZW50ZXIgPSB0aGlzLmJiUGNiLmNlbnRlcih0aGlzLnpvb20pO1xyXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyhjZW50ZXJbMF0gLSAxMCArIHRoaXMubW91c2VPZmZYLCBjZW50ZXJbMV0gKyB0aGlzLm1vdXNlT2ZmWSk7XHJcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKGNlbnRlclswXSArIDEwICsgdGhpcy5tb3VzZU9mZlgsIGNlbnRlclsxXSArIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICB0aGlzLmN0eC5tb3ZlVG8oY2VudGVyWzBdICsgdGhpcy5tb3VzZU9mZlgsIGNlbnRlclsxXSAtIDEwICsgdGhpcy5tb3VzZU9mZlkpO1xyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyhjZW50ZXJbMF0gKyB0aGlzLm1vdXNlT2ZmWCwgY2VudGVyWzFdICsgMTAgKyB0aGlzLm1vdXNlT2ZmWSk7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgLy8gZHJhdyBiYlxyXG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY3R4LnJlY3QodGhpcy5iYlBjYi56ZXJvKHRoaXMuem9vbSlbMF0gKyB0aGlzLm1vdXNlT2ZmWCwgdGhpcy5iYlBjYi56ZXJvKHRoaXMuem9vbSlbMV0gKyB0aGlzLm1vdXNlT2ZmWSwgdGhpcy5iYlBjYi5zaXplKHRoaXMuem9vbSlbMF0sIHRoaXMuYmJQY2Iuc2l6ZSh0aGlzLnpvb20pWzFdKTtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcGFkc3R5bGUgb2YgdGhpcy5tYXBQYWRzLmtleXMoKSkge1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3R5ID0gdGhpcy5tYXBTdHlsZXMuZ2V0KHBhZHN0eWxlKTtcclxuICAgICAgICAgICAgY29uc3QgcGFkc2V0ID0gdGhpcy5tYXBQYWRzLmdldChwYWRzdHlsZSk7XHJcbiAgICAgICAgICAgIGlmIChzdHkgJiYgcGFkc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdyA9IHN0eS53aWR0aCAqIHRoaXMuem9vbTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNoID0gc3R5LmhlaWdodCAqIHRoaXMuem9vbTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHBhZCBvZiBwYWRzZXQudmFsdWVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3R5LmZvcm0gPT0gJ1InIHx8IHN0eS5mb3JtID09ICdPJyB8fCBzdHkuZm9ybSA9PSAnUm91bmRSZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkLnBvc1ggKiB0aGlzLnpvb20gLSBzdyAvIDIuMCArIHRoaXMubW91c2VPZmZYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkLnBvc1kgKiB0aGlzLnpvb20gLSBzaCAvIDIuMCArIHRoaXMubW91c2VPZmZZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3csIHNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0eS5mb3JtID09ICdDJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZWxsaXBzZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZC5wb3NYICogdGhpcy56b29tICsgdGhpcy5tb3VzZU9mZlgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWQucG9zWSAqIHRoaXMuem9vbSArIHRoaXMubW91c2VPZmZZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3cgLyAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3cgLyAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmN0eC5hcmMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBwYWQucG9zWCAqIHRoaXMuem9vbSAtIHN3IC8gMi4wICsgdGhpcy5tb3VzZU9mZlgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBwYWQucG9zWSAqIHRoaXMuem9vbSAtIHNoIC8gMi4wICsgdGhpcy5tb3VzZU9mZlksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBzdHkud2lkdGggKiB0aGlzLnpvb20sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgZHJhdyBxdWF0c2NoICR7c3R5LmZvcm19YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gLy8gZm9yIHBhZHN0eWxlXHJcblxyXG4gICAgICAgIC8vIGRyYXcgc2VsZWN0aW9uQ3Jvc3MoZXMpXHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAncHVycGxlJztcclxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBsZXQgY3NpemUgPSAuNTtcclxuICAgICAgICBmb3IoY29uc3QgbmVhciBvZiB0aGlzLm5lYXJlc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKChuZWFyWzBdLnBvc1gtY3NpemUpICogdGhpcy56b29tICsgdGhpcy5tb3VzZU9mZlgsIG5lYXJbMF0ucG9zWSAqIHRoaXMuem9vbSArIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKChuZWFyWzBdLnBvc1grY3NpemUpICogdGhpcy56b29tICsgdGhpcy5tb3VzZU9mZlgsIG5lYXJbMF0ucG9zWSAqIHRoaXMuem9vbSArIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKG5lYXJbMF0ucG9zWCAqIHRoaXMuem9vbSArIHRoaXMubW91c2VPZmZYLCAobmVhclswXS5wb3NZK2NzaXplKSAqIHRoaXMuem9vbSArIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKG5lYXJbMF0ucG9zWCAqIHRoaXMuem9vbSArIHRoaXMubW91c2VPZmZYLCAobmVhclswXS5wb3NZLWNzaXplKSAqIHRoaXMuem9vbSArIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYG5lYXJlc3Q6JHtuZWFyWzBdLnBvc1h9LCR7bmVhclswXS5wb3NZfSAgZGlzdDoke01hdGguc3FydChuZWFyWzFdKX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgc2VsZWN0aW9uIGxvd2VyIGxlZnQgPSB6ZXJvIGthbmRpZGF0ZVxyXG4gICAgICAgIGxldCB6ZXJvID0gWzAsMF07XHJcbiAgICAgICAgaWYodGhpcy5iYlNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICBjc2l6ZSA9IDIgKiB0aGlzLnpvb207XHJcbiAgICAgICAgICAgIHplcm8gPSB0aGlzLmJiU2VsZWN0aW9uLnplcm8odGhpcy56b29tKTtcclxuICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh6ZXJvWzBdIC1jc2l6ZSArIHRoaXMubW91c2VPZmZYLCB6ZXJvWzFdICsgdGhpcy5tb3VzZU9mZlkpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8oemVyb1swXSArY3NpemUgKyB0aGlzLm1vdXNlT2ZmWCwgemVyb1sxXSArIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKHplcm9bMF0gKyB0aGlzLm1vdXNlT2ZmWCwgICAgIHplcm9bMV0tY3NpemUgKyB0aGlzLm1vdXNlT2ZmWSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyh6ZXJvWzBdICsgdGhpcy5tb3VzZU9mZlgsICAgICB6ZXJvWzFdK2NzaXplICsgdGhpcy5tb3VzZU9mZlkpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGRyYXcgb3JpZ2luXHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xyXG4gICAgICAgIHplcm8gPSB0aGlzLmJiWmVyby5jZW50ZXIodGhpcy56b29tKTtcclxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICB0aGlzLmN0eC5tb3ZlVG8oLWNzaXplICsgdGhpcy5tb3VzZU9mZlgsIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICB0aGlzLmN0eC5saW5lVG8oK2NzaXplICsgdGhpcy5tb3VzZU9mZlgsIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICB0aGlzLmN0eC5tb3ZlVG8odGhpcy5tb3VzZU9mZlgsICAgICAgIC1jc2l6ZSArIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5tb3VzZU9mZlgsICAgICAgICtjc2l6ZSArIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyB6ZXJvXHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xyXG4gICAgICAgIHplcm8gPSB0aGlzLmJiWmVyby56ZXJvKHRoaXMuem9vbSk7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKHplcm9bMF0gLWNzaXplICsgdGhpcy5tb3VzZU9mZlgsIHplcm9bMV0gKyB0aGlzLm1vdXNlT2ZmWSk7XHJcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHplcm9bMF0gK2NzaXplICsgdGhpcy5tb3VzZU9mZlgsIHplcm9bMV0gKyB0aGlzLm1vdXNlT2ZmWSk7XHJcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKHplcm9bMF0gKyB0aGlzLm1vdXNlT2ZmWCwgICAgIHplcm9bMV0tY3NpemUgKyB0aGlzLm1vdXNlT2ZmWSk7XHJcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHplcm9bMF0gKyB0aGlzLm1vdXNlT2ZmWCwgICAgIHplcm9bMV0rY3NpemUgKyB0aGlzLm1vdXNlT2ZmWSk7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcblxyXG5cclxuICAgICAgICAvLyBkcmF3IHNlbGVjdGlvblJlY3RhbmdsZVxyXG4gICAgICAgIGlmKHRoaXMubW91c2VTZWxlY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAncHVycGxlJztcclxuICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh0aGlzLm1vdXNlU3RhcnRYICAqIHRoaXMuem9vbSArIHRoaXMubW91c2VPZmZYLCB0aGlzLm1vdXNlU3RhcnRZICAqIHRoaXMuem9vbSArIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKHRoaXMubW91c2VTZWxlY3RYICogdGhpcy56b29tICsgdGhpcy5tb3VzZU9mZlgsIHRoaXMubW91c2VTdGFydFkgICogdGhpcy56b29tICsgdGhpcy5tb3VzZU9mZlkpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5tb3VzZVNlbGVjdFggKiB0aGlzLnpvb20gKyB0aGlzLm1vdXNlT2ZmWCwgdGhpcy5tb3VzZVNlbGVjdFkgKiB0aGlzLnpvb20gKyB0aGlzLm1vdXNlT2ZmWSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyh0aGlzLm1vdXNlU3RhcnRYICAqIHRoaXMuem9vbSArIHRoaXMubW91c2VPZmZYLCB0aGlzLm1vdXNlU2VsZWN0WSAqIHRoaXMuem9vbSArIHRoaXMubW91c2VPZmZZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKHRoaXMubW91c2VTdGFydFggICogdGhpcy56b29tICsgdGhpcy5tb3VzZU9mZlgsIHRoaXMubW91c2VTdGFydFkgICogdGhpcy56b29tICsgdGhpcy5tb3VzZU9mZlkpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIi8qKlxyXG4gKiBNYXJsaW46IERldmljZSBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbi5cclxuKi9cclxuXHJcbmltcG9ydCB7IGtkVHJlZSB9IGZyb20gJy4va2RUcmVlJztcclxuaW1wb3J0IHsgRGV2aWNlIH0gZnJvbSBcIi4vZGV2aWNlXCI7XHJcbmltcG9ydCB7IFBDQiwgUGFkIH0gZnJvbSBcIi4vcGNiXCI7XHJcblxyXG5lbnVtIFN0YXR1cyB7XHJcbiAgICBVbmRlZmluZWQgPSAxLFxyXG4gICAgUmVhZHksXHJcbiAgICBCdXN5LFxyXG4gICAgTkNcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1hcmxpbiBleHRlbmRzIERldmljZSB7XHJcbiAgICBtYXJsaW5EaXY6IEhUTUxFbGVtZW50IHwgbnVsbDtcclxuICAgIG1hcmxpbkRpdlN0YXR1czogSFRNTEVsZW1lbnQgfCBudWxsO1xyXG4gICAgbWFybGluRGl2UG9zaXRpb246IEhUTUxFbGVtZW50IHwgbnVsbDtcclxuICAgIG1hcmxpbkRpdkNvbW1hbmRzOiBIVE1MRWxlbWVudCB8IG51bGw7XHJcblxyXG4gICAgemVybzogW251bWJlciwgbnVtYmVyXSA9IFswLCAwXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMubWFybGluRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJNYXJsaW5cIik7XHJcbiAgICAgICAgdGhpcy5pbml0SHRtbCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIE92ZXJ3cml0ZSEgU2V0IHRoZSBjdXJyZW50IHBvc2l0aW9uIHRvIFplcm8uIEFsbCBmdXJ0aGVyIGNvbW1hbmRzIHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhpcyBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFplcm8ocG9pbnQ6IFtudW1iZXIsIG51bWJlcl0pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnplcm8gPSBwb2ludDtcclxuICAgICAgICB0aGlzLm9uQnRuQWJzKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyaWFsV3JpdGVXYWl0KCdHOTIgWDAgWTAgWjAnKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25CdG5Qb3MoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogT3ZlcndyaXRlISBNb3ZlIHRvIHBvc2l0aW9uLiBJZiBvbmUgY29vcmRpbmF0ZSBpcyB1bmRlZmluZWQsIGl0J3MgaWdub3JlZFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbW92ZVRvKHg6IG51bWJlciB8IHVuZGVmaW5lZCwgeTogbnVtYmVyIHwgdW5kZWZpbmVkLCB6OiBudW1iZXIgfCB1bmRlZmluZWQsIGU6IG51bWJlciB8IHVuZGVmaW5lZCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBjbWQgPSAnRzAgJztcclxuICAgICAgICBpZiAoeCAhPSB1bmRlZmluZWQpIGNtZCArPSBgWCR7eCAtIHRoaXMuemVyb1swXX0gYDtcclxuICAgICAgICBpZiAoeSAhPSB1bmRlZmluZWQpIGNtZCArPSBgWSR7eSAtIHRoaXMuemVyb1sxXX0gYDtcclxuICAgICAgICBpZiAoeiAhPSB1bmRlZmluZWQpIGNtZCArPSBgWiR7en0gYDtcclxuICAgICAgICB0aGlzLnNlcmlhbFdyaXRlV2FpdChjbWQpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uQnRuUG9zKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIG1vdmVUb0FsbChwbGlzdDogUGFkW10sIHN0YXJ0OltudW1iZXIsbnVtYmVyXSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdNYXJsaW46bW92ZVRvQWxsJywgcGxpc3QubGVuZ3RoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhwbGlzdCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRyZWUgPSBuZXcga2RUcmVlKFBDQiwgcGxpc3QsIFBDQi5kaXN0YW5jZSwgW1wicG9zWFwiLCBcInBvc1lcIl0pO1xyXG5cclxuICAgICAgICBsZXQgc3RhcnRwYWQgPSBuZXcgUGFkKCcnLCBzdGFydFswXSwgc3RhcnRbMV0pO1xyXG4gICAgICAgIGxldCBzZWFyY2ggPSB0cmVlLm5lYXJlc3Qoc3RhcnRwYWQsIDEpO1xyXG4gICAgICAgIGxldCBmb3VuZHBhZCA9IHNlYXJjaFswXVswXTtcclxuXHJcbiAgICAgICAgbGV0IGZvdW5kcGFkczpQYWRbXSA9IFtdOyAvLyBqdXN0IGZvciBsb2dcclxuXHJcbiAgICAgICAgdGhpcy5vbkJ0bkFicygpLnRoZW4oYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHRyZWUudG9KU09OKCksIHVuZGVmaW5lZCwgNCkpOyAvLyBkdW1wIHRyZWVcclxuICAgICAgICAgICAgICAgICAgICBzZWFyY2ggPSB0cmVlLm5lYXJlc3QoZm91bmRwYWQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdNYXJsaW46bW92ZVRvQWxsJywgc2VhcmNoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm91bmRwYWQgPSBzZWFyY2hbMF1bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgZm91bmRwYWRzLnB1c2goZm91bmRwYWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY21kID0gJ0cwICc7XHJcbiAgICAgICAgICAgICAgICAgICAgY21kICs9IGBYJHtmb3VuZHBhZC5wb3NYIC0gdGhpcy56ZXJvWzBdfSBgO1xyXG4gICAgICAgICAgICAgICAgICAgIGNtZCArPSBgWSR7Zm91bmRwYWQucG9zWSAtIHRoaXMuemVyb1sxXX0gYDtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlcmlhbFdyaXRlV2FpdChjbWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnTWFybGluOm1vdmVUb0FsbCcsIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoICh3aGF0KSB7IH0gLy8gaWdub3JlIGRpc2Nvbm5lY3RlZCBmb3IgZGVidWdnaW5nXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vLyByZW1vdmUgc2VlbXMgdG8gYmUgYnVnaSA6KCgoXHJcbiAgICAgICAgICAgICAgICAgICAgdHJlZS5yZW1vdmUoZm91bmRwYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vLyB3b3JrYXJvdW5kIGhlcmUuLi5cclxuICAgICAgICAgICAgICAgICAgICAvLyB0cmVlLm5lYXJlc3QoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvcihsZXQgZm91bmRwYWQgb2YgZm91bmRwYWRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01hcmxpbjptb3ZlVG9BbGwnLCBmb3VuZHBhZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoICh3aGF0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBzZXJpYWxXcml0ZVdhaXQgZmFpbHMsIGRvIHNvbWV0aGluZyA/XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJNYXJsaW46bW92ZVRvQWxsOiBmYWlsZWRcIiwgd2hhdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmxvYigpIHtcclxuICAgICAgICB0aGlzLm9uQnRuQWJzKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyaWFsV3JpdGVXYWl0KCdNODMnKS50aGVuKCgpID0+IHsgLy8gZXh0cnVkZXIgcmVsYXRpdlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXJpYWxXcml0ZVdhaXQoJ0cwIFozJykudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJpYWxXcml0ZVdhaXQoJ0cwIEUxMCcpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcmlhbFdyaXRlV2FpdCgnRzAgWjAnKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VyaWFsV3JpdGVXYWl0KCdHMCBaMycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU2VyaWFsQ29ubmVjdGVkKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdNYXJsaW46IG9uU2VyaWFsQ29ubmVjdGVkJyk7XHJcbiAgICAgICAgLy8gcmVhZCBvdmVyIGZpcnN0IG1lc3NhZ2VzXHJcbiAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIHdoaWxlKHRoaXMuaW5wdXRRdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAodGhpcy5tYXJsaW5EaXZQb3NpdGlvbikge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMubWFybGluRGl2UG9zaXRpb24uaW5uZXJIVE1MICs9IGAke3RoaXMuaW5wdXRRdWV1ZS5wb3AoKX1gO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0dXMoU3RhdHVzLlJlYWR5KVxyXG4gICAgICAgIGlmICh0aGlzLm1hcmxpbkRpdlN0YXR1cyAmJiB0aGlzLm1hcmxpbkRpdkNvbW1hbmRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKFN0YXR1cy5SZWFkeSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFybGluRGl2Q29tbWFuZHMuY2xhc3NOYW1lID0gdGhpcy5tYXJsaW5EaXZDb21tYW5kcy5jbGFzc05hbWUucmVwbGFjZSgndzMtaGlkZScsICd3My1zaG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIH0sIDEwMDApO1xyXG5cclxuICAgICAgICAvLyB3YWl0IDNzZWMsIHJ1biBjb21tYW5kcyAnY29sZCBleHRydWRlJywncmVsYXRpdmUgcG9zaXRpb25pbmcnLCdyZXBvcnQgcG9zaXRpb24nXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25CdG5Db2xkKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQnRuUmVsKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkJ0blBvcygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWFybGluOiBvblNlcmlhbENvbm5lY3RlZCBpbml0IHNlcXVlbmNlIGZpbmlzaGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgMzAwMCk7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgb25TZXJpYWxEaXNjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ01hcmxpbjogb25TZXJpYWxEaXNjb25uZWN0ZWQnKTtcclxuICAgICAgICBpZiAodGhpcy5tYXJsaW5EaXZTdGF0dXMgJiYgdGhpcy5tYXJsaW5EaXZDb21tYW5kcykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhTdGF0dXMuTkMpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmxpbkRpdkNvbW1hbmRzLmNsYXNzTmFtZSA9IHRoaXMubWFybGluRGl2Q29tbWFuZHMuY2xhc3NOYW1lLnJlcGxhY2UoJ3czLXNob3cnLCAndzMtaGlkZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaGVyaXRlZCBmcm9tIERldmljZSwgYWRkcyBTdGF0dXMgbWVzc2FnZSB1cGRhdGVzLlxyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gdGltZW91dFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFzeW5jIHNlcmlhbFdyaXRlV2FpdCh2YWx1ZTogc3RyaW5nLCB0aW1lb3V0OiBudW1iZXIgPSAxMDAwMCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4oYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhTdGF0dXMuQnVzeSk7XHJcbiAgICAgICAgICAgIHN1cGVyLnNlcmlhbFdyaXRlV2FpdCh2YWx1ZSwgdGltZW91dCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChyZWFzb24pO1xyXG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKFN0YXR1cy5SZWFkeSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0U3RhdHVzKHN0YXR1czogU3RhdHVzKSB7XHJcbiAgICAgICAgbGV0IGh0bWwgPSBgdW5rbm93biBzdGF0dXMgJHtzdGF0dXN9YDtcclxuICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlIFN0YXR1cy5SZWFkeTpcclxuICAgICAgICAgICAgICAgIGh0bWwgPSAnU3RhdHVzOiA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXBsdWdcIj48L2k+IHJlYWR5JzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU3RhdHVzLkJ1c3k6XHJcbiAgICAgICAgICAgICAgICBodG1sID0gJ1N0YXR1czogPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1wbHVnLWNpcmNsZS1ib2x0XCI+PC9pPiBidXN5JzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU3RhdHVzLk5DOlxyXG4gICAgICAgICAgICAgICAgaHRtbCA9ICdTdGF0dXM6IDxpIGNsYXNzPVwiZmEtc29saWQgZmEtcGx1Zy1jaXJjbGUteG1hcmtcIj48L2k+IG5vdCBjb25uZWN0ZWQnOyBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubWFybGluRGl2U3RhdHVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFybGluRGl2U3RhdHVzLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uQnRuSG9tZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXJpYWxXcml0ZVdhaXQoJ0cyOCcpLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihyZWFzb24pXHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8vLyB0aW1lb3V0IHRvbyBzbWFsbCBmb3IgdGhpcyBjb21tYW5kLCBzZWUgd2hhdCBoYXBwZW5zXHJcbiAgICAgICAgLy8gdGhpcy5zZXJpYWxXcml0ZVdhaXQoJ0cyOCcsIDEwMCkudGhlbigodmFsdWUpID0+IHtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2codmFsdWUpO1xyXG4gICAgICAgIC8vIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICAvLyAgICAgY29uc29sZS53YXJuKHJlYXNvbik7XHJcbiAgICAgICAgLy8gICAgIC8vIHRyeSBhZ2FpbiAoZGVmYXVsdCB0aW1lb3V0IGlzIDEwc2VjKVxyXG4gICAgICAgIC8vICAgICB0aGlzLnNlcmlhbFdyaXRlV2FpdCgnRzI4JykudGhlbigodmFsdWUpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMub25CdG5Qb3MoKTtcclxuICAgICAgICAvLyAgICAgfSkuY2F0Y2goKHJlYXNvbikgPT4geyBjb25zb2xlLndhcm4ocmVhc29uKSB9KTtcclxuICAgICAgICAvLyB9KTtcclxuICAgIH07XHJcbiAgICBvbkJ0blBvcygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXJpYWxXcml0ZVdhaXQoJ00xMTQnKS50aGVuKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gaGllciBrb21tdCBlaW5lIHplaWxlIG1pdCB6YWhsZW4gdW5kIGVpbmUgbWl0IG9rXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb25CdG5Qb3MnLHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcmxpbkRpdlBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXJsaW5EaXZQb3NpdGlvbi5pbm5lclRleHQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuY2F0Y2goKHJlYXNvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKHJlYXNvbik7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBvbkJ0bkFicygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXJpYWxXcml0ZVdhaXQoJ0c5MCcpLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihyZWFzb24pO1xyXG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvbkJ0blJlbCgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXJpYWxXcml0ZVdhaXQoJ0c5MScpLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihyZWFzb24pO1xyXG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvbkJ0bkNvbGQoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyaWFsV3JpdGVXYWl0KCdNMzAyIFMwJykudGhlbigodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goKHJlYXNvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKHJlYXNvbik7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvbkJ0blhQKCkge1xyXG4gICAgICAgIHRoaXMuc2VyaWFsV3JpdGVXYWl0KCdHMCBYMTAnKS50aGVuKCh2YWx1ZSkgPT4geyB0aGlzLm9uQnRuUG9zKCk7IH0pO1xyXG4gICAgfTtcclxuICAgIG9uQnRuWE0oKSB7XHJcbiAgICAgICAgdGhpcy5zZXJpYWxXcml0ZVdhaXQoJ0cwIFgtMTAnKS50aGVuKCh2YWx1ZSkgPT4geyB0aGlzLm9uQnRuUG9zKCk7IH0pO1xyXG4gICAgfTtcclxuICAgIG9uQnRuWVAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXJpYWxXcml0ZVdhaXQoJ0cwIFkxMCcpLnRoZW4oKHZhbHVlKSA9PiB7IHRoaXMub25CdG5Qb3MoKTsgfSk7XHJcbiAgICB9O1xyXG4gICAgb25CdG5ZTSgpIHtcclxuICAgICAgICB0aGlzLnNlcmlhbFdyaXRlV2FpdCgnRzAgWS0xMCcpLnRoZW4oKHZhbHVlKSA9PiB7IHRoaXMub25CdG5Qb3MoKTsgfSk7XHJcbiAgICB9O1xyXG4gICAgb25CdG5aUCgpIHtcclxuICAgICAgICB0aGlzLnNlcmlhbFdyaXRlV2FpdCgnRzAgWjEwJykudGhlbigodmFsdWUpID0+IHsgdGhpcy5vbkJ0blBvcygpOyB9KTtcclxuICAgIH07XHJcbiAgICBvbkJ0blpNKCkge1xyXG4gICAgICAgIHRoaXMuc2VyaWFsV3JpdGVXYWl0KCdHMCBaLTEwJykudGhlbigodmFsdWUpID0+IHsgdGhpcy5vbkJ0blBvcygpOyB9KTtcclxuICAgIH07XHJcbiAgICBvbkJ0bkVQKCkge1xyXG4gICAgICAgIHRoaXMuc2VyaWFsV3JpdGVXYWl0KCdHMCBFMTAnKS50aGVuKCh2YWx1ZSkgPT4geyB0aGlzLm9uQnRuUG9zKCk7IH0pO1xyXG4gICAgfTtcclxuICAgIG9uQnRuRU0oKSB7XHJcbiAgICAgICAgdGhpcy5zZXJpYWxXcml0ZVdhaXQoJ0cwIEUtMTAnKS50aGVuKCh2YWx1ZSkgPT4geyB0aGlzLm9uQnRuUG9zKCk7IH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgc29tZSBidXR0b25zIGZvciBNYXJsaW4gc3BlY2lmaWMgYWN0aW9ucy4uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGluaXRIdG1sKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1hcmxpbkRpdikge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmxpbkRpdi5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3My1ib3JkZXIgdzMtYm9yZGVyLWRhcmstZ3JleVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwibWFybGluU3RhdHVzXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJtYXJsaW5Qb3NpdGlvblwiIGNsYXNzPVwidzMtdGlueVwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwibWFybGluQ29tbWFuZHNcIiBjbGFzcz1cInczLXRpbnkgdzMtaGlkZVwiPlxyXG4gICAgICAgICAgICA8cD5cclxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIm1hcmxpbkhvbWVcIiBjbGFzcz1cInczLWJ1dHRvbiB3My1yb3VuZCB3My1saWdodC1ncmV5XCI+aG9tZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibWFybGluUG9zXCIgIGNsYXNzPVwidzMtYnV0dG9uIHczLXJvdW5kIHczLWxpZ2h0LWdyZXlcIj5wb3M/PC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJtYXJsaW5SZWxcIiAgY2xhc3M9XCJ3My1idXR0b24gdzMtcm91bmQgdzMtbGlnaHQtZ3JleVwiPnJlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibWFybGluQWJzXCIgIGNsYXNzPVwidzMtYnV0dG9uIHczLXJvdW5kIHczLWxpZ2h0LWdyZXlcIj5hYnM8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIm1hcmxpbkNvbGRcIiBjbGFzcz1cInczLWJ1dHRvbiB3My1yb3VuZCB3My1saWdodC1ncmV5XCI+Y29sZDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibWFybGluWFBcIiBjbGFzcz1cInczLWJ1dHRvbiB3My1yb3VuZCB3My1saWdodC1ncmV5XCI+eCs8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIm1hcmxpblhNXCIgY2xhc3M9XCJ3My1idXR0b24gdzMtcm91bmQgdzMtbGlnaHQtZ3JleVwiPngtPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJtYXJsaW5ZUFwiIGNsYXNzPVwidzMtYnV0dG9uIHczLXJvdW5kIHczLWxpZ2h0LWdyZXlcIj55KzwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibWFybGluWU1cIiBjbGFzcz1cInczLWJ1dHRvbiB3My1yb3VuZCB3My1saWdodC1ncmV5XCI+eS08L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIm1hcmxpblpQXCIgY2xhc3M9XCJ3My1idXR0b24gdzMtcm91bmQgdzMtbGlnaHQtZ3JleVwiPnorPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJtYXJsaW5aTVwiIGNsYXNzPVwidzMtYnV0dG9uIHczLXJvdW5kIHczLWxpZ2h0LWdyZXlcIj56LTwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibWFybGluRVBcIiBjbGFzcz1cInczLWJ1dHRvbiB3My1yb3VuZCB3My1saWdodC1ncmV5XCI+ZSs8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIm1hcmxpbkVNXCIgY2xhc3M9XCJ3My1idXR0b24gdzMtcm91bmQgdzMtbGlnaHQtZ3JleVwiPmUtPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgICAgIHRoaXMubWFybGluRGl2U3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXJsaW5TdGF0dXNcIik7XHJcbiAgICAgICAgICAgIHRoaXMubWFybGluRGl2UG9zaXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcmxpblBvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmxpbkRpdkNvbW1hbmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXJsaW5Db21tYW5kc1wiKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoU3RhdHVzLk5DKTtcclxuICAgICAgICAgICAgY29uc3QgbWFybGluQnRuSG9tZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFybGluSG9tZVwiKTtcclxuICAgICAgICAgICAgaWYgKG1hcmxpbkJ0bkhvbWUpIHtcclxuICAgICAgICAgICAgICAgIG1hcmxpbkJ0bkhvbWUub25jbGljayA9IHRoaXMub25CdG5Ib21lLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbWFybGluQnRuUG9zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXJsaW5Qb3NcIik7XHJcbiAgICAgICAgICAgIGlmIChtYXJsaW5CdG5Qb3MpIHtcclxuICAgICAgICAgICAgICAgIG1hcmxpbkJ0blBvcy5vbmNsaWNrID0gdGhpcy5vbkJ0blBvcy5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1hcmxpbkJ0blJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFybGluUmVsXCIpO1xyXG4gICAgICAgICAgICBpZiAobWFybGluQnRuUmVsKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJsaW5CdG5SZWwub25jbGljayA9IHRoaXMub25CdG5SZWwuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtYXJsaW5CdG5BYnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcmxpbkFic1wiKTtcclxuICAgICAgICAgICAgaWYgKG1hcmxpbkJ0bkFicykge1xyXG4gICAgICAgICAgICAgICAgbWFybGluQnRuQWJzLm9uY2xpY2sgPSB0aGlzLm9uQnRuQWJzLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbWFybGluQnRuQ29sZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFybGluQ29sZFwiKTtcclxuICAgICAgICAgICAgaWYgKG1hcmxpbkJ0bkNvbGQpIHtcclxuICAgICAgICAgICAgICAgIG1hcmxpbkJ0bkNvbGQub25jbGljayA9IHRoaXMub25CdG5Db2xkLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1hcmxpbkJ0blhQID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXJsaW5YUFwiKTtcclxuICAgICAgICAgICAgaWYgKG1hcmxpbkJ0blhQKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJsaW5CdG5YUC5vbmNsaWNrID0gdGhpcy5vbkJ0blhQLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbWFybGluQnRuWE0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcmxpblhNXCIpO1xyXG4gICAgICAgICAgICBpZiAobWFybGluQnRuWE0pIHtcclxuICAgICAgICAgICAgICAgIG1hcmxpbkJ0blhNLm9uY2xpY2sgPSB0aGlzLm9uQnRuWE0uYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtYXJsaW5CdG5ZUCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFybGluWVBcIik7XHJcbiAgICAgICAgICAgIGlmIChtYXJsaW5CdG5ZUCkge1xyXG4gICAgICAgICAgICAgICAgbWFybGluQnRuWVAub25jbGljayA9IHRoaXMub25CdG5ZUC5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1hcmxpbkJ0bllNID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXJsaW5ZTVwiKTtcclxuICAgICAgICAgICAgaWYgKG1hcmxpbkJ0bllNKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJsaW5CdG5ZTS5vbmNsaWNrID0gdGhpcy5vbkJ0bllNLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbWFybGluQnRuWlAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcmxpblpQXCIpO1xyXG4gICAgICAgICAgICBpZiAobWFybGluQnRuWlApIHtcclxuICAgICAgICAgICAgICAgIG1hcmxpbkJ0blpQLm9uY2xpY2sgPSB0aGlzLm9uQnRuWlAuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtYXJsaW5CdG5aTSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFybGluWk1cIik7XHJcbiAgICAgICAgICAgIGlmIChtYXJsaW5CdG5aTSkge1xyXG4gICAgICAgICAgICAgICAgbWFybGluQnRuWk0ub25jbGljayA9IHRoaXMub25CdG5aTS5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1hcmxpbkJ0bkVQID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXJsaW5FUFwiKTtcclxuICAgICAgICAgICAgaWYgKG1hcmxpbkJ0bkVQKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJsaW5CdG5FUC5vbmNsaWNrID0gdGhpcy5vbkJ0bkVQLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbWFybGluQnRuRU0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcmxpbkVNXCIpO1xyXG4gICAgICAgICAgICBpZiAobWFybGluQnRuRU0pIHtcclxuICAgICAgICAgICAgICAgIG1hcmxpbkJ0bkVNLm9uY2xpY2sgPSB0aGlzLm9uQnRuRU0uYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQQ0IgfSBmcm9tICcuL3BjYic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFyc2VyIHtcclxuICAgIHB1YmxpYyBwcm9jZXNzQ0I6IEZ1bmN0aW9uO1xyXG5cclxuICAgIHB1YmxpYyBwYWRzRmllbGQ6IEhUTUxFbGVtZW50fG51bGw7XHJcbiAgICBwdWJsaWMgY29vcmRzRmllbGQ6IEhUTUxFbGVtZW50fG51bGw7XHJcblxyXG4gICAgcHVibGljIHBjYjogUENCO1xyXG4gICAgY29uc3RydWN0b3IocGNiOiBQQ0IpIHtcclxuICAgICAgICB0aGlzLnBjYiA9IHBjYjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGFyc2VGaWxlPyhmaWxlOiBGaWxlKTpQcm9taXNlPHZvaWQ+OyAvLyB2aXJ0dWFsICFcclxuICAgIHB1YmxpYyBjYW5jZWw/KCk6IHZvaWQ7XHJcbn1cclxuIiwiaW1wb3J0IHsgUGFyc2VyIH0gZnJvbSBcIi4vcGFyc2VyXCI7XHJcbmltcG9ydCB7IFBDQiB9IGZyb20gXCIuL3BjYlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhcnNlckdlcmJlciBleHRlbmRzIFBhcnNlciB7XHJcbiAgICByZU51bUZvcm1hdCA9IC9eJUZTTEFYKFswLTldKShbMC05XSlZKFswLTldKShbMC05XSlbKl0lLztcclxuICAgIHJlTWF0Y2hQYWQgPSAvXiglQUQpKERbMC05XSspKFtBLVphLXpdKylbLF0oWy0wLTkuXSspW1hdPyhbLTAtOS5dKyk/W1hdPyhbLTAtOS5dKyk/LztcclxuICAgIHJlTWF0Y2hQYWRDb29yZEluaXQgPSAvXihbREddWzAtOV0rKVsqXS87XHJcbiAgICByZU1hdGNoUGFkQ29vcmQgPSAvXlgoWy1dPykoWzAtOV0rKVkoWy1dPykoWzAtOV0rKUQoWzAtOV0rKVsqXS87XHJcbiAgICBfY2FuY2VsID0gZmFsc2U7XHJcbiAgICBmbG9hdEZyYWN0cyA9IDE7XHJcbiAgICBmbG9hdERlemlzID0gMTtcclxuICAgIGxhc3RQYWQgPSBcIlwiO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBjYjogUENCKSB7XHJcbiAgICAgICAgc3VwZXIocGNiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGFyc2VGaWxlKGZpbGU6IEZpbGUpOlByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBmaWxlLmFycmF5QnVmZmVyKCkudGhlbigoYnVmKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhcnJheUJ1ZmZlclRvU3RyaW5nKGJ1ZiwgJ1VURi04JywgKHRleHQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0dlcmJlclRleHQodGV4dCkuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FuY2VsKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2NhbmNlbCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcHJvY2Vzc0dlcmJlclRleHQodGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGV4dCk7XHJcbiAgICAgICAgLy8gdHJhbnNsYXRlIGxpbmUgZW5kcy4uLlxyXG4gICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xcci9nLCAnJyk7IC8vIHJlbW92ZSB3aW5kb3dzIHRyYXNoXHJcbiAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKTtcclxuXHJcbiAgICAgICAgbGV0IGxpbmVOciA9IDE7XHJcbiAgICAgICAgZm9yIChsZXQgbGluZSBvZiBsaW5lcykge1xyXG4gICAgICAgICAgICBsaW5lTnIrKztcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW5jZWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYGdlcmJlcigke2xpbmVOcn0vJHtsaW5lcy5sZW5ndGh9KTogYCk7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2Nlc3NHZXJiZXJMaW5lKGxpbmUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvY2Vzc0NCKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NDQihsaW5lTnIgKiAxMDAgLyBsaW5lcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gLy8gZm9yXHJcblxyXG4gICAgICAgIHRoaXMucGNiLnJldHJlZSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBhc3luYyBwcm9jZXNzR2VyYmVyTGluZShsaW5lOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcbi9nLCc8YnI+Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gWmFobGVuZm9ybWF0IGluZm8gbGluZSBcIiVGU0xBWDM0WTM0KiVcIlxyXG4gICAgICAgICAgICAgICAgLy8gICAlRlNMQVgyNVkyNSolIENvb3JkaW5hdGUgZm9ybWF0IHNwZWNpZmljYXRpb246XHJcbiAgICAgICAgICAgICAgICAvLyAgIENvb3JkaW5hdGVzIGZvcm1hdCBpcyAyLjU6XHJcbiAgICAgICAgICAgICAgICAvLyAgIDIgZGlnaXRzIGluIHRoZSBpbnRlZ2VyIHBhcnRcclxuICAgICAgICAgICAgICAgIC8vICAgNSBkaWdpdHMgaW4gdGhlIGZyYWN0aW9uYWwgcGFydFxyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hOdW1Gb3JtYXQgPSB0aGlzLnJlTnVtRm9ybWF0LmV4ZWMobGluZSk7IC8vbGluZS5tYXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoTnVtRm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobWF0Y2hOdW1Gb3JtYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxvYXREZXppcyA9IHBhcnNlSW50KG1hdGNoTnVtRm9ybWF0WzFdKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsb2F0RnJhY3RzID0gcGFyc2VJbnQobWF0Y2hOdW1Gb3JtYXRbMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBnZXJiZXI6IGZsb2F0IGRpZ2l0cyA9ICR7dGhpcy5mbG9hdERlemlzfSAke3RoaXMuZmxvYXRGcmFjdHN9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHBhZCBkZWZpbml0aW9uc1xyXG4gICAgICAgICAgICAgICAgLy8gJUFERDIxUiwwLjYwMDAwMFgxLjA1MDAwMColXHJcbiAgICAgICAgICAgICAgICAvLyAlQUREMTBSb3VuZFJlY3QsMC4xMjAwMDAgWCAtMC4xODAwMDBcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgWCAwLjY4MDAwMCBYIC0wLjE4MDAwMFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgIFggLTAuNjgwMDAwIFggMC4xODAwMDBcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICBYIC0wLjY4MDAwMCBYIDAuMTgwMDAwXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgIFggMC42ODAwMDAgWCAwKiVcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoUGFkID0gdGhpcy5yZU1hdGNoUGFkLmV4ZWMobGluZSk7IC8vIGxpbmUubWF0Y2goKTsvLy8pO1xyXG4gICAgICAgICAgICAgICAgLy8gV2VubiBcIkNcIiBkYW5uIGdpYnRzIG51ciBlaW5lIGNvb3JkXHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hQYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhtYXRjaFBhZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFkc0ZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFkc0ZpZWxkLmlubmVySFRNTCArPSBgJHttYXRjaFBhZFsyXX0gJHttYXRjaFBhZFszXX0gJHttYXRjaFBhZFs0XX0gJHttYXRjaFBhZFs1XX08YnI+YDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoUGFkWzNdID09ICdSb3VuZFJlY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGtpY2FkIG1hY3JvIHNjaG51bGxpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGNiLmFkZFBhZFN0eWxlKG1hdGNoUGFkWzJdLCBtYXRjaFBhZFszXSwgTWF0aC5hYnMocGFyc2VGbG9hdChtYXRjaFBhZFs1XSkpLCBNYXRoLmFicyhwYXJzZUZsb2F0KG1hdGNoUGFkWzZdKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgZ2VyYmVyOiBzdHlsZSAke21hdGNoUGFkWzJdfSwke21hdGNoUGFkWzNdfSwgJHtNYXRoLmFicyhwYXJzZUZsb2F0KG1hdGNoUGFkWzVdKSl9LCAke01hdGguYWJzKHBhcnNlRmxvYXQobWF0Y2hQYWRbNl0pKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBjYi5hZGRQYWRTdHlsZShtYXRjaFBhZFsyXSwgbWF0Y2hQYWRbM10sIHBhcnNlRmxvYXQobWF0Y2hQYWRbNF0pLCBwYXJzZUZsb2F0KG1hdGNoUGFkWzVdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBnZXJiZXI6IHN0eWxlICR7bWF0Y2hQYWRbMl19LCR7bWF0Y2hQYWRbM119LCAke3BhcnNlRmxvYXQobWF0Y2hQYWRbNF0pfSwgJHtwYXJzZUZsb2F0KG1hdGNoUGFkWzVdKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRHh4KiBjb21tYW5kIC0gc2hvdWxkIGJlIHBhZCBkcmF3XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaFBhZENvb3JkSW5pdCA9IHRoaXMucmVNYXRjaFBhZENvb3JkSW5pdC5leGVjKGxpbmUpOyAvL2xpbmUubWF0Y2goKTsvLy8pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoUGFkQ29vcmRJbml0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobWF0Y2hQYWRDb29yZEluaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFBhZCA9IG1hdGNoUGFkQ29vcmRJbml0WzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gYSBwYWQgbGluZTogXCJYMzc5OTg0WTk2MzkzMEQwMypcIlxyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hQYWRDb29yZCA9IHRoaXMucmVNYXRjaFBhZENvb3JkLmV4ZWMobGluZSk7IC8vIGxpbmUubWF0Y2goKTsvLy8pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoUGFkQ29vcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXN0UGFkLnN0YXJ0c1dpdGgoJ0QnKSkgeyAvLyBpZ25vcmUgRzM2IG9yIHNvIGNvbW1hbmRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICgxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBhbmQgcmV0dXJuIC4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG1hdGNoUGFkQ29vcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3ggPSBtYXRjaFBhZENvb3JkWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3kgPSBtYXRjaFBhZENvb3JkWzRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSB0aGlzLmZsb2F0RGV6aXMgKyB0aGlzLmZsb2F0RnJhY3RzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWxsIGZyZWFrJ3MgbGVhZGluZyB6ZXJvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc3gubGVuZ3RoIDwgbGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeCA9IGAwJHtzeH1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzeS5sZW5ndGggPCBsZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5ID0gYDAke3N5fWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBhIGZyZWFrJ24gZmxvYXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZ4ID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnkgPSAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN4ID0gYCR7c3guc3Vic3RyaW5nKDAsIHRoaXMuZmxvYXREZXppcyl9LiR7c3guc3Vic3RyaW5nKHRoaXMuZmxvYXREZXppcyl9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3kgPSBgJHtzeS5zdWJzdHJpbmcoMCwgdGhpcy5mbG9hdERlemlzKX0uJHtzeS5zdWJzdHJpbmcodGhpcy5mbG9hdERlemlzKX1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmeCA9IHBhcnNlRmxvYXQoc3gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmeSA9IHBhcnNlRmxvYXQoc3kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hQYWRDb29yZFsxXSA9PSAnLScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ4ID0gZnggKiAtMS4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFBhZENvb3JkWzNdID09ICctJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnkgPSBmeSAqIC0xLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ5ID0gZnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvb3Jkc0ZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3Jkc0ZpZWxkLmlubmVySFRNTCArPSBgJHt0aGlzLmxhc3RQYWR9OiAgeDoke2Z4fSB5OiR7Znl9IDxicj5gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGNiLmFkZFBhZCh0aGlzLmxhc3RQYWQsIGZ4LCBmeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBnZXJiZXI6IHBhZCAke2xhc3RQYWR9LCAke2Z4fSwgJHtmeX1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgaWdub3JpbmcgJHt0aGlzLmxhc3RQYWR9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBpZihsaW5lTnIgPiAxNTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGJyZWFrOyAvLyBmb3IgdGVzdGluZyAhISFcclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGNiLmNlbnRlcigpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIDApOyAvLyB0aGlzIGVuYWJsZXMgdGhlIHByb2dyZXNzYmFyIC8gVUkgdXBkYXRlcyAhXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGZvdW5kIG9uIHNlIHdlYi4uLlxyXG5cclxuZnVuY3Rpb24gYXJyYXlCdWZmZXJUb1N0cmluZyhidWZmZXIsIGVuY29kaW5nLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbYnVmZmVyXSwgeyB0eXBlOiAndGV4dC9wbGFpbicgfSk7XHJcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgIHJlYWRlci5vbmxvYWQgPSAoZXZ0KSA9PiB7IGlmKGV2dC50YXJnZXQpIGNhbGxiYWNrKGV2dC50YXJnZXQucmVzdWx0KTsgfTtcclxuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IsIGVuY29kaW5nKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RyaW5nVG9BcnJheUJ1ZmZlcihzdHJpbmcsIGVuY29kaW5nLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbc3RyaW5nXSwgeyB0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PScgKyBlbmNvZGluZyB9KTtcclxuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgcmVhZGVyLm9ubG9hZCA9IChldnQpID0+IHsgaWYoZXZ0LnRhcmdldCkgY2FsbGJhY2soZXZ0LnRhcmdldC5yZXN1bHQpOyB9O1xyXG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xyXG59XHJcbiIsImltcG9ydCB7IEdyaWQsIE1vdXNlIH0gZnJvbSAnY2FudmFzLWNvb3JkcycgLy8gaHR0cHM6Ly9naXRodWIuY29tL0NvZGVEcmFrZW4vY2FudmFzLWNvb3Jkc1xyXG5pbXBvcnQgeyBEZXZpY2UgfSBmcm9tICcuL2RldmljZSc7XHJcbmltcG9ydCB7IE1hcmxpbiB9IGZyb20gJy4vZGV2aWNlTWFybGluJztcclxuaW1wb3J0IHsgUENCLCBQYWQsIFBhZFN0eWxlIH0gZnJvbSAnLi9wY2InO1xyXG5pbXBvcnQgeyBQYXJzZXJHZXJiZXIgfSBmcm9tICcuL3BhcnNlckdlcmJlcic7XHJcblxyXG4vLyBzaW1wbGVyICEhISBjb25zdCBpbmZvRHJvcERvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignI2luZm9Ecm9wRG93bicpO1xyXG5cclxuY29uc3QgYm9keTogSFRNTEJvZHlFbGVtZW50IHwgbnVsbCA9IDxIVE1MQm9keUVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07XHJcbmNvbnN0IG1lc3NhZ2VFbGVtOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSA8SFRNTERpdkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZUVsZW1cIik7XHJcbmNvbnN0IHVwbG9hZEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gPEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVwbG9hZEJ1dHRvblwiKTtcclxuY29uc3QgcGFkc0ZpZWxkOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSA8SFRNTERpdkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFkc0ZpZWxkXCIpO1xyXG5jb25zdCBjb29yZHM6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IDxIVE1MRGl2RWxlbWVudCB8IG51bGw+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJDb29yZHNcIik7XHJcbmNvbnN0IGNvb3Jkc0ZpZWxkOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSA8SFRNTERpdkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29vcmRzRmllbGRcIik7XHJcbmNvbnN0IGRyb3Bab25lOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyb3Bab25lXCIpO1xyXG5jb25zdCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbCA9IDxIVE1MQ2FudmFzRWxlbWVudCB8IG51bGw+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbmNvbnN0IGRlYnVnOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSA8SFRNTERpdkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVidWdcIik7XHJcbmNvbnN0IHByb2dyZXNzOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSA8SFRNTERpdkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZ3Jlc3NcIik7XHJcbmNvbnN0IHByb2dyZXNzYmFyOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSA8SFRNTERpdkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzc2JhcicpO1xyXG5jb25zdCBjb250ZXh0TWVudTogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gPEhUTUxEaXZFbGVtZW50IHwgbnVsbD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGV4dE1lbnUnKTtcclxuY29uc3QgcHJvZ3Jlc3NDYW5jZWw6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IDxIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzQ2FuY2VsJyk7XHJcblxyXG5jb25zdCBtZW51U2V0WmVybzogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gPEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lbnVTZXRaZXJvXCIpO1xyXG5jb25zdCBtZW51TW92ZVRvOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSA8SFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudU1vdmVUb1wiKTtcclxuY29uc3QgbWVudU1vdmVBbGw6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IDxIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51TW92ZUFsbFwiKTtcclxuY29uc3QgbWVudUJsb2I6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IDxIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51QmxvYlwiKTtcclxuXHJcblxyXG5jb25zdCBtYWluOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSA8SFRNTERpdkVsZW1lbnQgfCBudWxsPmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblwiKTtcclxuY29uc3Qgb3BlblNpZGViYXJCdXR0b246IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IDxIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvcGVuU2lkZWJhclwiKTtcclxuXHJcbmNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkZXInKVswXTtcclxuY29uc3QgZm9vdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvb3RlcicpO1xyXG5cclxubGV0IG1lc3NhZ2VDbGVhclRpbWVvdXQ6bnVtYmVyfHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxubGV0IGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbCA9IG51bGw7XHJcbmxldCBtb3VzZTogTW91c2UsIGdyaWQ6IEdyaWQ7XHJcbmxldCBwY2I6IFBDQjtcclxuXHJcbmxldCBkZXZpY2UgPSBuZXcgTWFybGluKCk7XHJcblxyXG5mdW5jdGlvbiBpbml0KCkge1xyXG4gICAgaWYgKHVwbG9hZEJ1dHRvbiAmJiBtZW51U2V0WmVybyAmJiBtZW51TW92ZVRvICYmIG1lbnVNb3ZlQWxsICYmIG1lbnVCbG9iICYmIHByb2dyZXNzQ2FuY2VsICYmIHBhZHNGaWVsZCAmJiBjb29yZHNGaWVsZCAmJiBib2R5ICYmIGNhbnZhcyAmJiBmb290ZXIpIHtcclxuICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBjYikgcGNiLm1vdXNlTW92ZShldmVudCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGNiKSBwY2IubW91c2VEb3duKGV2ZW50KTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGNiKSBwY2IubW91c2VVcChldmVudCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwY2IpIHBjYi5tb3VzZU91dChldmVudCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwY2IpIHBjYi5tb3VzZVdoZWVsKGV2ZW50KTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHVwbG9hZEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgdXBsb2FkRmlsZUVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIHVwbG9hZEZpbGVFbGUudHlwZSA9IFwiZmlsZVwiO1xyXG4gICAgICAgICAgICB1cGxvYWRGaWxlRWxlLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIHVwbG9hZEZpbGVFbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXY6IEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhldik7XHJcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB1c2VyIGhhZCBzZWxlY3RlZCBhIGZpbGVcclxuICAgICAgICAgICAgICAgIGlmICh1cGxvYWRGaWxlRWxlLmZpbGVzICYmIHVwbG9hZEZpbGVFbGUuZmlsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWxlID0gdXBsb2FkRmlsZUVsZS5maWxlc1swXVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBmaWxlOiAke2ZpbGUubmFtZX0gc2l6ZToke2ZpbGUuc2l6ZX1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0dlcmJlckZpbGUoZmlsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgncGxlYXNlIGNob29zZSBhIGZpbGUnKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtZW51U2V0WmVyby5vbmNsaWNrID0gKGV2ZW50Ok1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgcGNiLnNldFplcm8oKTtcclxuICAgICAgICAgICAgZGV2aWNlLnNldFplcm8ocGNiLmdldFplcm8oKSk7IC8vIGRldmljZSBtdXN0IHN1YnN0cmFjdCBcInplcm9cIiBmcm9tIGFsbCBjb29yZHNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1lbnVNb3ZlVG8ub25jbGljayA9IChldmVudDpNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGV2ZW50KTtcclxuICAgICAgICAgICAgLy8gZmluZCB0aGUgY29vcmRzICEhIVxyXG4gICAgICAgICAgICAvLyAhISEgbmVlZCB0byBiZSByZWxhdGl2ZSB0byB6ZXJvICEhISB1dXVoaGhcclxuXHJcbiAgICAgICAgICAgIC8vIGxldCBwYWRzID0gcGNiLmdldFNlbGVjdGVkKCk7XHJcbiAgICAgICAgICAgIC8vIGlmIChwYWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gICAgIGxldCBwYWQ6IFBhZCA9IHBhZHNbMF07XHJcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhwYWQpO1xyXG4gICAgICAgICAgICAvLyAgICAgZGV2aWNlLm1vdmVUbyhwYWQucG9zWCwgcGFkLnBvc1ksIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgbGV0IHBvcyA9IHBjYi5nZXRTZWxlY3RlZFplcm8oKTsgLy8gbG93ZXIgbGVmdCBvZiBzZWxlY3Rpb25cclxuICAgICAgICAgICAgZGV2aWNlLm1vdmVUbyhwb3NbMF0sIHBvc1sxXSwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZW51TW92ZUFsbC5vbmNsaWNrID0gKGV2ZW50Ok1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IHBsaXN0ID0gcGNiLmdldFNlbGVjdGVkKCk7XHJcbiAgICAgICAgICAgIGxldCBwemVybyA9IHBjYi5nZXRTZWxlY3RlZFplcm8oKTtcclxuICAgICAgICAgICAgZGV2aWNlLm1vdmVUb0FsbChwbGlzdCwgcHplcm8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZW51QmxvYi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBkZXZpY2UuYmxvYigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYm9keS5vbmRyb3AgPSAoZXYpID0+IHtcclxuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXYpO1xyXG4gICAgICAgICAgICBpZiAoZXYuZGF0YVRyYW5zZmVyICYmIGV2LmRhdGFUcmFuc2Zlci5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgLy8gVXNlIERhdGFUcmFuc2Zlckl0ZW1MaXN0IGludGVyZmFjZSB0byBhY2Nlc3MgdGhlIGZpbGUocylcclxuICAgICAgICAgICAgICAgIFsuLi5ldi5kYXRhVHJhbnNmZXIuaXRlbXNdLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBkcm9wcGVkIGl0ZW1zIGFyZW4ndCBmaWxlcywgcmVqZWN0IHRoZW1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5raW5kID09PSAnZmlsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGl0ZW0uZ2V0QXNGaWxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg4oCmIGl0ZW1bJHtpfV0ubmFtZSA9ICR7ZmlsZS5uYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0dlcmJlckZpbGUoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChldi5kYXRhVHJhbnNmZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFVzZSBEYXRhVHJhbnNmZXIgaW50ZXJmYWNlIHRvIGFjY2VzcyB0aGUgZmlsZShzKVxyXG4gICAgICAgICAgICAgICAgWy4uLmV2LmRhdGFUcmFuc2Zlci5maWxlc10uZm9yRWFjaCgoZmlsZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDigKYgZmlsZVske2l9XS5uYW1lID0gJHtmaWxlLm5hbWV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NHZXJiZXJGaWxlKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJvZHkub25kcmFnb3ZlciA9IChldikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmlsZShzKSBpbiBkcm9wIHpvbmUnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBiZWhhdmlvciAoUHJldmVudCBmaWxlIGZyb20gYmVpbmcgb3BlbmVkKVxyXG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FudmFzLm9uY29udGV4dG1lbnUgPSAoZXYpID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ29uY29udGV4dG1lbnUnLGV2KTtcclxuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKGNvbnRleHRNZW51KSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0TWVudS5zdHlsZS5sZWZ0ID0gYCR7ZXYucGFnZVh9cHhgO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dE1lbnUuc3R5bGUudG9wID0gYCR7ZXYucGFnZVl9cHhgO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dE1lbnUuY2xhc3NOYW1lID0gY29udGV4dE1lbnUuY2xhc3NOYW1lLnJlcGxhY2UoJ3czLWhpZGUnLCAndzMtc2hvdycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbnZhcy5vbm1vdXNldXAgPSAoZXYpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvbnRleHRNZW51KSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0TWVudS5jbGFzc05hbWUgPSBjb250ZXh0TWVudS5jbGFzc05hbWUucmVwbGFjZSgndzMtc2hvdycsICd3My1oaWRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjdHgpIHtcclxuICAgICAgICAgICAgcGNiID0gbmV3IFBDQigpO1xyXG4gICAgICAgICAgICBwY2Iuc2V0Q2FudmFzKGN0eCwgY2FudmFzKTtcclxuXHJcbiAgICAgICAgICAgIG1vdXNlID0gbmV3IE1vdXNlKGN0eCwgY2FudmFzKTtcclxuICAgICAgICAgICAgbW91c2UudHJhY2soKTtcclxuICAgICAgICAgICAgZ3JpZCA9IG5ldyBHcmlkKCk7XHJcbiAgICAgICAgICAgIGdyaWQuc3RlcCA9IDI7XHJcbiAgICAgICAgICAgIGdyaWQubGluZVdpZHRoID0gMC4wMztcclxuICAgICAgICAgICAgZ3JpZC5ib2xkV2lkdGggPSAwLjA1O1xyXG4gICAgICAgICAgICBncmlkLmNyZWF0ZUxpbmVzKGNhbnZhcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnbG9iYWxUaGlzLnJlc2l6ZSgpO1xyXG5cclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdtaXNzaW5nIGh0bWwgZWxlbWVudHMgIScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBtZXNzYWdlKHRleHQ6IHN0cmluZykge1xyXG4gICAgaWYobWVzc2FnZUNsZWFyVGltZW91dCkge1xyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQobWVzc2FnZUNsZWFyVGltZW91dCk7XHJcbiAgICB9XHJcbiAgICBpZihtZXNzYWdlRWxlbSkge1xyXG4gICAgICAgIG1lc3NhZ2VFbGVtLmlubmVySFRNTCA9IGAke3RleHR9YDtcclxuICAgICAgICBtZXNzYWdlQ2xlYXJUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQobWVzc2FnZUNsZWFyLCAxMDAwMCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbWVzc2FnZUNsZWFyKCkge1xyXG4gICAgbWVzc2FnZUNsZWFyVGltZW91dCA9IHVuZGVmaW5lZDtcclxuICAgIGlmKG1lc3NhZ2VFbGVtKSB7XHJcbiAgICAgICAgbWVzc2FnZUVsZW0uaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgIGlmIChjYW52YXMgJiYgY3R4KSB7XHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xyXG5cclxuICAgICAgICBjdHguc2V0VHJhbnNmb3JtKFxyXG4gICAgICAgICAgICBwY2IgPyBwY2Iuem9vbSA6IDEsIDAsXHJcbiAgICAgICAgICAgIDAsIHBjYiA/IHBjYi56b29tIDogMSxcclxuICAgICAgICAgICAgMCwgMCk7XHJcblxyXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAvLyBncmlkLmRyYXcoY3R4LCBjYW52YXMpO1xyXG4gICAgICAgIC8vIGdyaWQuc3RlcCA9IHBjYj8xMC4wL3BjYi56b29tOjEwLjA7XHJcbiAgICAgICAgLy8gZ3JpZC5jcmVhdGVMaW5lcyhjYW52YXMpO1xyXG4gICAgICAgIGdyaWQubGluZXMuZm9yRWFjaChsaW5lID0+IGxpbmUuZHJhdyhjdHgpKVxyXG4gICAgICAgIG1vdXNlLmRyYXcoKTtcclxuXHJcblxyXG4gICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oXHJcbiAgICAgICAgICAgIDEsIDAsXHJcbiAgICAgICAgICAgIDAsIC0xLFxyXG4gICAgICAgICAgICAwLCBjYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gY3R4LnNjYWxlKDEsLTEpOyAvLyBmbGlwIGRpc3BsYXkgeVxyXG5cclxuICAgICAgICBpZiAocGNiKSB7XHJcbiAgICAgICAgICAgIHBjYi5kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzR2VyYmVyRmlsZShmaWxlOiBGaWxlKSB7XHJcbiAgICBpZiAocGFkc0ZpZWxkICYmIGNvb3Jkc0ZpZWxkICYmIGN0eCAmJiBjYW52YXMgJiYgcHJvZ3Jlc3MgJiYgcHJvZ3Jlc3NiYXIgJiYgcHJvZ3Jlc3NDYW5jZWwgJiYgZHJvcFpvbmUpIHsgLy8gbWFrZXMgdHlwZXNjcmlwdCBoYXBweS4uLlxyXG5cclxuICAgICAgICBwY2IgPSBuZXcgUENCKCk7XHJcbiAgICAgICAgcGNiLnNldENhbnZhcyhjdHgsIGNhbnZhcyk7XHJcbiAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBQYXJzZXJHZXJiZXIocGNiKTtcclxuXHJcbiAgICAgICAgcGFkc0ZpZWxkLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGNvb3Jkc0ZpZWxkLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGRyb3Bab25lLmlubmVyVGV4dCA9IGZpbGUubmFtZTtcclxuICAgICAgICBwcm9ncmVzcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICAgICAgcGFyc2VyLnBhZHNGaWVsZCA9IHBhZHNGaWVsZDtcclxuICAgICAgICBwYXJzZXIuY29vcmRzRmllbGQgPSBjb29yZHNGaWVsZDtcclxuICAgICAgICBwcm9ncmVzc0NhbmNlbC5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBwYXJzZXIuY2FuY2VsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhcnNlci5wcm9jZXNzQ0IgPSAodmFsdWU6bnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc2Jhcikge1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NiYXIuc3R5bGUud2lkdGggPSBgJHt2YWx1ZX0lYDtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwcm9ncmVzczonLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYXdhaXQgcGFyc2VyLnBhcnNlRmlsZShmaWxlKTtcclxuXHJcbiAgICAgICAgcGNiLnpvb21Ub0ZpdChbY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0XSk7XHJcblxyXG4gICAgICAgIHByb2dyZXNzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5nbG9iYWxUaGlzLmFjY29yZGlvblRvZ2dsZXIgPSAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgdmFyIGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICBpZiAoZWxlbSkge1xyXG4gICAgICAgIGlmIChlbGVtLmNsYXNzTmFtZS5pbmRleE9mKFwidzMtc2hvd1wiKSA9PSAtMSAmJiBlbGVtLmNsYXNzTmFtZS5pbmRleE9mKFwidzMtaGlkZVwiKSA9PSAtMSkge1xyXG4gICAgICAgICAgICBlbGVtLmNsYXNzTmFtZSArPSBcIiB3My1zaG93XCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtLmNsYXNzTmFtZS5pbmRleE9mKFwidzMtc2hvd1wiKSAhPSAtMSkge1xyXG4gICAgICAgICAgICBlbGVtLmNsYXNzTmFtZSA9IGVsZW0uY2xhc3NOYW1lLnJlcGxhY2UoXCJ3My1zaG93XCIsIFwidzMtaGlkZVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbGVtLmNsYXNzTmFtZSA9IGVsZW0uY2xhc3NOYW1lLnJlcGxhY2UoXCJ3My1oaWRlXCIsIFwidzMtc2hvd1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignYWNjb3JkaW9uVG9nZ2xlciBubyBlbGVtIHdpdGggaWQ6JywgaWQpO1xyXG4gICAgfVxyXG4gICAgZ2xvYmFsVGhpcy5yZXNpemUoKTtcclxufVxyXG5cclxuZ2xvYmFsVGhpcy5vcGVuU2lkZWJhciA9ICgpID0+IHtcclxuICAgIGlmIChtYWluICYmIGRlYnVnICYmIG9wZW5TaWRlYmFyQnV0dG9uKSB7XHJcbiAgICAgICAgbWFpbi5zdHlsZS5tYXJnaW5SaWdodCA9IFwiMzUwcHhcIjtcclxuICAgICAgICBkZWJ1Zy5zdHlsZS53aWR0aCA9IFwiMzUwcHhcIjtcclxuICAgICAgICBkZWJ1Zy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgIG9wZW5TaWRlYmFyQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmdsb2JhbFRoaXMuY2xvc2VTaWRlYmFyID0gKCkgPT4ge1xyXG4gICAgaWYgKG1haW4gJiYgZGVidWcgJiYgb3BlblNpZGViYXJCdXR0b24pIHtcclxuICAgICAgICBtYWluLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCIwcHhcIjtcclxuICAgICAgICBkZWJ1Zy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgb3BlblNpZGViYXJCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmdsb2JhbFRoaXMuem9vbVRvRml0ID0gKCkgPT4ge1xyXG4gICAgaWYocGNiICYmIGNhbnZhcykge1xyXG4gICAgICAgIHBjYi56b29tVG9GaXQoW2NhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodF0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5nbG9iYWxUaGlzLnJvdGF0ZVJpZ2h0ID0gKCkgPT4ge1xyXG4gICAgaWYocGNiICYmIGNhbnZhcykge1xyXG4gICAgICAgIC8vIHBjYi56b29tVG9GaXQoW2NhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodF0pO1xyXG4gICAgfVxyXG4gICAgbWVzc2FnZSgnbcO8c3N0ZSBtYSBlaW5lciBpbXBsZW1lbnRpZXJlbiwgbmUnKTtcclxufVxyXG5cclxuZ2xvYmFsVGhpcy5yZXNpemUgPSAoKSA9PiB7XHJcbiAgICBpZiAoY2FudmFzICYmIGhlYWRlciAmJiBmb290ZXIgJiYgZGVidWcgJiYgY29vcmRzKSB7XHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gaW5uZXJXaWR0aDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW5uZXJIZWlnaHQgLSBoZWFkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC0gZm9vdGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICBtb3VzZS5kcmF3KCk7XHJcbiAgICAgICAgZ3JpZC5kcmF3KGN0eCwgY2FudmFzKTtcclxuXHJcbiAgICAgICAgLy8gaGVpZ2h0IG9mIGRlYnVnIGlzIGlubmVySGVpZ2h0IC0gbWFyZ2luIHRvcC9ib3R0b20gbW9yZSBvciBsZXNzIC0gZm9vdGVyLmhlaWdodFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXNpemU6IG1hcmdpbicsIGRlYnVnLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCk7XHJcbiAgICAgICAgbGV0IGRtYXhoZWlnaHQgPSBpbm5lckhlaWdodCAtIGZvb3Rlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7IC8vIGNhbnZhcy5oZWlnaHQgKyBoZWFkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC0gMTY7XHJcbiAgICAgICAgLy8gZGVidWcuc3R5bGUuaGVpZ2h0ID0gYCR7ZGhlaWdodH1weGA7IC8vIDE2IGlzIG1hcmdpblRvcFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXNpemU6IGlubmVyIGhlaWdodCcsIGlubmVySGVpZ2h0KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygncmVzaXplOiBkZWJ1ZyBoZWlnaHQnLCBkaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gaGVpZ2h0IG9mIGFsbCBvdGhlciBlbGVtZW50cyBpbiBkZWJ1Z1xyXG4gICAgICAgIGxldCBoZWlnaHQgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIGRlYnVnLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGxldCBlbGVtOiBIVE1MRWxlbWVudCA9IDxIVE1MRWxlbWVudD5jaGlsZDtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHJlc2l6ZTogICAke2NoaWxkLmlkfSAke2VsZW0uY2xpZW50SGVpZ2h0fSAke2VsZW0uY2xhc3NOYW1lfWApO1xyXG4gICAgICAgICAgICBpZihlbGVtLmNsYXNzTmFtZS5pbmRleE9mKCd3My1oaWRlJykgIT0gLTEpXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgaGVpZ2h0ICs9IGVsZW0uY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Jlc2l6ZTogZGVidWcgY29udGVudCBoZWlnaHQnLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBzbyBmYXIgc28gZ29vZFxyXG5cclxuICAgICAgICAvLyBpZiBjb29yZHMgaXMgc2hvd24sIHNldCBkZWJ1ZyBzaXplIHRvIG1heFxyXG4gICAgICAgIC8vIGlmIGNvb3JkcyBpcyBzaG93biwgZ2l2ZSBpdCBhbGwgdGhlIHJlc3Qgb2YgdGhlIHNwYWNlXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Jlc2l6ZSBjb29yZHMgJywgY29vcmRzLmNsYXNzTmFtZS5pbmRleE9mKCd3My1oaWRlJykpO1xyXG4gICAgICAgIGlmKGNvb3Jkcy5jbGFzc05hbWUuaW5kZXhPZigndzMtaGlkZScpICE9IC0xKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXNpemUgY29vcmRzIGlzIE5PVCB2aXNpYmxlJyk7XHJcbiAgICAgICAgICAgIGRlYnVnLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodCsxNn1weGA7XHJcbiAgICAgICAgICAgIGNvb3Jkcy5zdHlsZS5oZWlnaHQgPSBgJHsxNn1weGA7IC8vIGVnYWwgP1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXNpemUgY29vcmRzIGlzIHZpc2libGUnKTtcclxuICAgICAgICAgICAgaGVpZ2h0IC09IGNvb3Jkcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7IC8vIGRvIG5vdCBjb3VudCBjb29yZHMgdG8gaGlnaHRcclxuICAgICAgICAgICAgZGVidWcuc3R5bGUuaGVpZ2h0ID0gYCR7ZG1heGhlaWdodH1weGA7XHJcbiAgICAgICAgICAgIGNvb3Jkcy5zdHlsZS5oZWlnaHQgPSBgJHtkbWF4aGVpZ2h0IC0gaGVpZ2h0IC0gMTZ9cHhgO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGluaXQpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICh2YWwpID0+IHtcclxuICAgIC8vIGNvbnNvbGUubG9nKGByZXNpemU6ICR7dmFsfWApO1xyXG4gICAgZ2xvYmFsVGhpcy5yZXNpemUoKTtcclxufSlcclxuIl0sIm5hbWVzIjpbIiQyYWNhOTY4NzlkZjVjYzU0JGV4cG9ydCQ1ZWU4OWFiMWJhNTRmZjQiLCIkMmFjYTk2ODc5ZGY1Y2M1NCRleHBvcnQkNTdiMmZmODc2MmIwYTQwOSIsImEiLCJnIiwidCIsImUiLCJUeXBlRXJyb3IiLCJjIiwibyIsImxlbmd0aCIsInMiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsImkiLCJhcmd1bWVudHMiLCJyIiwibiIsInRoaXMiLCJ4IiwieSIsImN0eCIsImNhbnZhcyIsImNvbG9yIiwiZm9udCIsInNldFBvcyIsImJpbmQiLCJwcm90b3R5cGUiLCJoIiwidmFsdWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIk1hdGgiLCJmbG9vciIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50WSIsInRvcCIsImNvbmNhdCIsInNhdmUiLCJmaWxsU3R5bGUiLCJ3aWR0aCIsIm1lYXN1cmVUZXh0IiwidiIsImhlaWdodCIsImZpbGxUZXh0IiwicmVzdG9yZSIsImQiLCJmIiwiYiIsImwiLCJsaW5lV2lkdGgiLCJzdGFydFgiLCJzdGFydFkiLCJlbmRYIiwiZW5kWSIsImJlZ2luUGF0aCIsInN0cm9rZVN0eWxlIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiaiIsInN0ZXAiLCJib2xkTnRoIiwiYm9sZENvbG9yIiwiYm9sZFdpZHRoIiwibGluZXMiLCJwdXNoIiwiJCIsImNyZWF0ZUxpbmVzIiwiZm9yRWFjaCIsImRyYXciLCJkcmF3VGV4dCIsIk1vdXNlIiwiR3JpZCIsIiRkOGI2YzkwM2ZhMTg0NGUxJGV4cG9ydHMiLCIkMmFjYTk2ODc5ZGY1Y2M1NCRleHBvcnQkMjVmNmU5OTc2NWIxZDNiYyIsIm9iaiIsImRpbWVuc2lvbiIsInBhcmVudCIsImNvbnN0cnVjdG9yIiwicG9pbnRzIiwiZGlzdGFuY2UiLCJkaW1lbnNpb25zIiwiX2tkVHJlZU9iamVjdFR5cGUiLCJtZXRyaWMiLCJBcnJheSIsImlzQXJyYXkiLCJyb290IiwiYnVpbGRUcmVlIiwibG9hZFRyZWUiLCJkZXB0aCIsIm1lZGlhbiIsImRpbSIsIiQyYWNhOTY4NzlkZjVjYzU0JGV4cG9ydCQzYmE5ZmMyM2EyZWFjMmJkIiwic29ydCIsIm5vZGUiLCJzbGljZSIsInJpZ2h0IiwiZGF0YSIsInJlc3RvcmVQYXJlbnQiLCJzcmMiLCJkZXN0IiwidG9KU09OIiwicG9pbnQiLCJpbm5lclNlYXJjaCIsIm5ld2tkTm9kZSIsImluc2VydFBvc2l0aW9uIiwibm9kZVNlYXJjaCIsIm93biIsImZpbmRNaW4iLCJtaW4iLCJtYXgiLCJmaW5kTWF4IiwibmV4dE5vZGUiLCJuZXh0T2JqIiwicERpbWVuc2lvbiIsInJlbW92ZU5vZGUiLCJjb25zb2xlIiwid2FybiIsImJlc3RDaGlsZCIsIm93bkRpc3RhbmNlIiwiYmVzdE5vZGVzIiwic2l6ZSIsIm1heE5vZGVzIiwicG9wIiwibGluZWFyUG9pbnQiLCJsaW5lYXJEaXN0YW5jZSIsIm5lYXJlc3RTZWFyY2giLCJwZWVrIiwic2F2ZU5vZGUiLCJhYnMiLCJvdGhlckNoaWxkIiwibWF4RGlzdGFuY2UiLCJyZXN1bHQiLCJsb2ciLCJjb250ZW50IiwiY291bnQiLCJzY29yZUZ1bmN0aW9uIiwiZWxlbWVudCIsImJ1YmJsZVVwIiwiZW5kIiwic2lua0Rvd24iLCJsZW4iLCJFcnJvciIsInBhcmVudE4iLCIkZTk2YzFkYzgyZTIzOTNkYSRleHBvcnQkODIxNWQxNGE2M2Q5ZmIxMCIsImlucHV0TGFzdCIsImlucHV0UXVldWUiLCJkZXZpY2VDaGVjayIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJkZXZpY2VDb25uZWN0IiwiZGV2aWNlRGlzY29ubmVjdCIsImRldmljZUlucHV0IiwiZGV2aWNlSW5wdXRGb3JtIiwiZGV2aWNlSW5mbyIsImRldmljZUxvZyIsImRldmljZVNlcmlhbCIsInBvcnQiLCJ0ZXh0RGVjb2RlciIsIlRleHREZWNvZGVyU3RyZWFtIiwib25jbGljayIsInNlcmlhbENoZWNrIiwic2VyaWFsQ29ubmVjdCIsInNlcmlhbERpc2Nvbm5lY3QiLCJvbnN1Ym1pdCIsInNlcmlhbElucHV0Rm9ybSIsImFzeW5jIiwic2VyaWFsIiwicmVxdWVzdFBvcnQiLCJ0aGVuIiwic2VyaWFsUG9ydE9wZW4iLCJyZWFzb24iLCJzZXJpYWxFcnJvciIsInZpZCIsInBpZCIsInBvcnRzIiwiZ2V0SW5mbyIsInVzYlByb2R1Y3RJZCIsInVzYlZlbmRvcklkIiwiY2xvc2UiLCJjYXRjaCIsImVycm9yIiwidGltZW91dCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2VyaWFsV3JpdGUiLCJhdmFpbGFibGUiLCJ0aW1lc3RlcCIsIm1heHRpbWUiLCJzZXJpYWxBdmFpbCIsImVyciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzZXJpYWxJbnB1dENoYW5nZSIsInRleHQiLCJuYXZpZ2F0b3IiLCJ1cGRhdGVQb3J0cyIsImdldFBvcnRzIiwiaHRtbCIsImlubmVySFRNTCIsImJ0bnMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImJ0biIsImlkcyIsImlkIiwic3BsaXQiLCJzZXJpYWxDb25uZWN0RGV2aWNlIiwicGFyc2VJbnQiLCJjbGFzc05hbWUiLCJyZXBsYWNlIiwib25jb25uZWN0Iiwib25kaXNjb25uZWN0Iiwib25TZXJpYWxEaXNjb25uZWN0ZWQiLCJvcGVuIiwiYmF1ZFJhdGUiLCJ2YWwiLCJvblNlcmlhbENvbm5lY3RlZCIsInNldFRpbWVvdXQiLCJzZXJpYWxSZWFkIiwidG9TdHJpbmciLCJyZWFkYWJsZSIsInBpcGVUbyIsImdldFJlYWRlciIsInNlcmlhbFJlYWRvbiIsImRvbmUiLCJyZWFkZXIiLCJyZWFkIiwicmVsZWFzZUxvY2siLCJwdXNoZWRTdHVmZiIsImluZGV4T2YiLCJ2YWx1ZXMiLCJzZXJpYWxMb2ciLCJzZXJpYWxDYWxsYmFjayIsInV0ZjhFbmNvZGUiLCJUZXh0RW5jb2RlciIsImdldFdyaXRlciIsIndyaXRlciIsIndyaXRlIiwiZW5jb2RlIiwiJGEzNmU2OWJkZmM4MTYzNmUkdmFyJEJvdW5kaW5nQm94IiwibWlueCIsIm1pbnkiLCJtYXh4IiwibWF4eSIsInVwZGF0ZUZyb21QYWQiLCJwYWQiLCJ1cGRhdGUiLCJwb3NYIiwicG9zWSIsImNlbnRlciIsInpvb20iLCJ6ZXJvIiwiZGlhZ29uYWwiLCJzcXJ0IiwiaW5zaWRlIiwiJGEzNmU2OWJkZmM4MTYzNmUkZXhwb3J0JDEzOGY5NjdmZWZmNGZiMTkiLCJmb3JtIiwidyIsIiRhMzZlNjliZGZjODE2MzZlJGV4cG9ydCQ0YjQzZDUxZjI5NDU3Mzg0Iiwic3R5bGUiLCJhc1R1cGxlIiwiJGEzNmU2OWJkZmM4MTYzNmUkZXhwb3J0JGJkZjQ2NTExM2Y5NzlkOGYiLCJmaWxlTmFtZSIsIm1vdXNlRmxhZyIsIm1vdXNlU3RhcnRYIiwibW91c2VTdGFydFkiLCJtb3VzZU9mZlgiLCJtb3VzZU9mZlkiLCJuZWFyZXN0Iiwic3VwZXIiLCJtYXBTdHlsZXMiLCJNYXAiLCJtYXBQYWRzIiwiYmJQY2IiLCJiYlplcm8iLCJiYlNlbGVjdGlvbiIsInNldENhbnZhcyIsInNldFplcm8iLCJnZXRaZXJvIiwiZ2V0U2VsZWN0ZWQiLCJuZWFyIiwiZ2V0U2VsZWN0ZWRaZXJvIiwicGFkc2V0Iiwiem9vbVRvRml0IiwicHNpemUiLCJ6dyIsInpoIiwibmFtZSIsInNldCIsImFkZFBhZCIsImhhcyIsIlNldCIsImdldCIsIm5ld3BhZCIsImFkZCIsInBhZHMiLCJwYWRzZXRzIiwidHJlZSIsImJhbGFuY2VGYWN0b3IiLCJ0cmFucyIsImdldFRyYW5zZm9ybSIsImJ1dHRvbiIsIm14IiwibXkiLCJvZmZzZXRUb3AiLCJtb3VzZVNlbGVjdFgiLCJtb3VzZVNlbGVjdFkiLCJtb3VzZVNlbGVjdCIsImZvdW5kIiwiZGlzdCIsImdldFBhZENvdW50Iiwic2hpZnRLZXkiLCJiYk5ld1NlbGVjdGlvbiIsIm5lYXIxIiwiZGVsdGFZIiwicmVjdCIsImtleXMiLCJwYWRzdHlsZSIsInN0eSIsImZpbGxSZWN0Iiwic3ciLCJzaCIsImZpbGwiLCJlbGxpcHNlIiwiUEkiLCJjc2l6ZSIsIiQ2NzY1YTkzZTIxNzYyYjE2JHZhciRTdGF0dXMiLCJTdGF0dXMiLCIkNTdlYjE4NTJmMDNkOWIwMCRleHBvcnQkN2FjZmE2ZWQwMTAxMGUzNyIsInBjYiIsIiRkOTlkNTk5ZTUzNzkwYTEzJGV4cG9ydCRmYzVkNGNhMjgyZTAyMWIxIiwicmVOdW1Gb3JtYXQiLCJyZU1hdGNoUGFkIiwicmVNYXRjaFBhZENvb3JkSW5pdCIsInJlTWF0Y2hQYWRDb29yZCIsIl9jYW5jZWwiLCJmbG9hdEZyYWN0cyIsImZsb2F0RGV6aXMiLCJsYXN0UGFkIiwicGFyc2VGaWxlIiwiZmlsZSIsImFycmF5QnVmZmVyIiwiYnVmIiwiZW5jb2RpbmciLCJjYWxsYmFjayIsImJsb2IiLCJwcm9jZXNzR2VyYmVyVGV4dCIsImZpbmFsbHkiLCJCbG9iIiwidHlwZSIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJldnQiLCJ0YXJnZXQiLCJyZWFkQXNUZXh0IiwiY2FuY2VsIiwibGluZU5yIiwibGluZSIsInByb2Nlc3NHZXJiZXJMaW5lIiwicHJvY2Vzc0NCIiwicmV0cmVlIiwibWF0Y2hOdW1Gb3JtYXQiLCJleGVjIiwibWF0Y2hQYWQiLCJwYWRzRmllbGQiLCJhZGRQYWRTdHlsZSIsInBhcnNlRmxvYXQiLCJtYXRjaFBhZENvb3JkSW5pdCIsIm1hdGNoUGFkQ29vcmQiLCJzdGFydHNXaXRoIiwic3giLCJzeSIsImZ4IiwiZnkiLCJzdWJzdHJpbmciLCJjb29yZHNGaWVsZCIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRib2R5IiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJG1lc3NhZ2VFbGVtIiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJHVwbG9hZEJ1dHRvbiIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRwYWRzRmllbGQiLCIkZDI2YTMxYmYxNDRmZmJhYyR2YXIkY29vcmRzIiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJGNvb3Jkc0ZpZWxkIiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJGRyb3Bab25lIiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJGNhbnZhcyIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRkZWJ1ZyIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRwcm9ncmVzcyIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRwcm9ncmVzc2JhciIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRjb250ZXh0TWVudSIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRwcm9ncmVzc0NhbmNlbCIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRtZW51U2V0WmVybyIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRtZW51TW92ZVRvIiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJG1lbnVNb3ZlQWxsIiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJG1lbnVCbG9iIiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJG1haW4iLCIkZDI2YTMxYmYxNDRmZmJhYyR2YXIkb3BlblNpZGViYXJCdXR0b24iLCIkZDI2YTMxYmYxNDRmZmJhYyR2YXIkaGVhZGVyIiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJGZvb3RlciIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRtZXNzYWdlQ2xlYXJUaW1lb3V0IiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJG1vdXNlIiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJGdyaWQiLCIkZDI2YTMxYmYxNDRmZmJhYyR2YXIkcGNiIiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJGN0eCIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRkZXZpY2UiLCJtYXJsaW5EaXYiLCJpbml0SHRtbCIsIm9uQnRuQWJzIiwic2VyaWFsV3JpdGVXYWl0Iiwib25CdG5Qb3MiLCJ6IiwiY21kIiwidW5kZWZpbmVkIiwicGxpc3QiLCJzdGFydCIsInN0YXJ0cGFkIiwic2VhcmNoIiwiZm91bmRwYWQiLCJmb3VuZHBhZHMiLCJ3aGF0IiwicmVtb3ZlIiwiZm91bmRwYWQxIiwid2hhdDEiLCJzZXRTdGF0dXMiLCJSZWFkeSIsIm1hcmxpbkRpdlN0YXR1cyIsIm1hcmxpbkRpdkNvbW1hbmRzIiwib25CdG5Db2xkIiwib25CdG5SZWwiLCJOQyIsIkJ1c3kiLCJzdGF0dXMiLCJvbkJ0bkhvbWUiLCJtYXJsaW5EaXZQb3NpdGlvbiIsImlubmVyVGV4dCIsIiRkMjZhMzFiZjE0NGZmYmFjJHZhciRtZXNzYWdlQ2xlYXIiLCIkZDI2YTMxYmYxNDRmZmJhYyR2YXIkdXBkYXRlIiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VHJhbnNmb3JtIiwiY2xlYXJSZWN0IiwiJGQyNmEzMWJmMTQ0ZmZiYWMkdmFyJHByb2Nlc3NHZXJiZXJGaWxlIiwicGFyc2VyIiwiZGlzcGxheSIsImdsb2JhbFRoaXMiLCJhY2NvcmRpb25Ub2dnbGVyIiwiZWxlbSIsInJlc2l6ZSIsIm9wZW5TaWRlYmFyIiwibWFyZ2luUmlnaHQiLCJjbG9zZVNpZGViYXIiLCJyb3RhdGVSaWdodCIsImNsZWFyVGltZW91dCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImRtYXhoZWlnaHQiLCJjaGlsZCIsImNoaWxkcmVuIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Q29udGV4dCIsIm1vdXNlTW92ZSIsIm1vdXNlRG93biIsIm1vdXNlVXAiLCJtb3VzZU91dCIsIm1vdXNlV2hlZWwiLCJ1cGxvYWRGaWxlRWxlIiwiY3JlYXRlRWxlbWVudCIsImNsaWNrIiwiZXYiLCJmaWxlcyIsImFsZXJ0IiwicG9zIiwicHplcm8iLCJtb3ZlVG9BbGwiLCJvbmRyb3AiLCJkYXRhVHJhbnNmZXIiLCJpdGVtcyIsIml0ZW0iLCJraW5kIiwiZ2V0QXNGaWxlIiwib25kcmFnb3ZlciIsIm9uY29udGV4dG1lbnUiLCJwYWdlWCIsInBhZ2VZIiwib25tb3VzZXVwIiwidHJhY2siXSwidmVyc2lvbiI6MywiZmlsZSI6ImluZGV4LkhBU0hfUkVGX2QxNzdlYjAzMjU4ZTY5ODguanMubWFwIn0=
